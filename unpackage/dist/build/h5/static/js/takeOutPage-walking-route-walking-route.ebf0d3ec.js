(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["takeOutPage-walking-route-walking-route"],{"126a":function(t,n,e){"use strict";e("7a82"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a={name:"takeOutWalkingRoute",data:function(){return{openSettingFlag:!1,location:{latitude:22.970675,longitude:113.334259},mapPolyline:[{points:[{latitude:22.969238,longitude:113.33389},{latitude:22.969309,longitude:113.333878},{latitude:22.969334,longitude:113.334132},{latitude:22.969649,longitude:113.33413},{latitude:22.970044,longitude:113.33413},{latitude:22.970578,longitude:113.33413},{latitude:22.970606,longitude:113.334255},{latitude:22.970667,longitude:113.334345},{latitude:22.970673,longitude:113.334458},{latitude:22.970798,longitude:113.334452},{latitude:22.970962,longitude:113.33453},{latitude:22.971108,longitude:113.334564},{latitude:22.971111,longitude:113.334631}],color:"#01BEFFFF",width:3,arrowLine:!0}],mapMarkers:[{id:0,latitude:22.971093,longitude:113.33474,iconPath:"/takeOutPage/static/images/location.png",width:20,height:30,callout:{content:"您所在位置",color:"#080808",bgColor:"transparent",display:"ALWAYS"}},{id:1,latitude:22.969238,longitude:113.33389,iconPath:"/takeOutPage/static/images/take_out_car.png",width:30,height:30,rotate:270}],takeOutCarIndex:0}},onLoad:function(){var t=this;this.runIntervalTimer=setInterval((function(){var n=0,e=t.mapPolyline[0].points.length;if(t.takeOutCarIndex>=e&&(t.takeOutCarIndex=0),t.takeOutCarIndex<e-2){var a=t.mapPolyline[0].points[t.takeOutCarIndex],o=t.mapPolyline[0].points[t.takeOutCarIndex+1];n=t.getAngle(a,o)}t.mapMarkers[1].latitude=t.mapPolyline[0].points[t.takeOutCarIndex].latitude,t.mapMarkers[1].longitude=t.mapPolyline[0].points[t.takeOutCarIndex].longitude,t.mapMarkers[1].rotate=0===n?0:n-90,t.takeOutCarIndex++}),500)},onUnload:function(){this.runIntervalTimer&&clearInterval(this.runIntervalTimer)},methods:{getUserAuthorize:function(){var t=this;uni.authorize({scope:"scope.userLocation",success:function(n){t.getUserLocation()},fail:function(n){t.$tn.message.toast("获取定位失败, 请重试")}})},getUserLocation:function(){var t=this;uni.getLocation({type:"gcj02",success:function(n){t.location.latitude=n.latitude,t.location.longitude=n.longitude},fail:function(n){t.$tn.message.toast("获取定位失败, 请重试")}})},openSetting:function(){var t=this;uni.openSetting({success:function(n){n.authSetting.hasOwnProperty("scope.userLocation")&&!0===n.authSetting["scope.userLocation"]?(t.openSettingFlag=!1,t.getUserLocation()):t.$tn.message.toast("设置获取位置信息失败")},fail:function(t){}})},getAngle:function(t,n){var e=0,a=t.latitude/180*Math.PI,o=t.longitude/180*Math.PI,i=n.latitude/180*Math.PI,l=n.longitude/180*Math.PI;e=4*Math.pow(Math.sin((a-i)/2),2)-Math.pow(Math.sin((o-l)/2)*(Math.cos(a)-Math.cos(i)),2),e=Math.sqrt(e);var u=Math.sin((o-l)/2)*(Math.cos(a)+Math.cos(i));return e/=u,e=Math.atan(e)/Math.PI*180,e+=90,e=o-l<0?a-i<0?e:180-e:a-i<0?180+e:-e,e}}};n.default=a},1891:function(t,n,e){"use strict";e.r(n);var a=e("f671"),o=e.n(a);for(var i in a)["default"].indexOf(i)<0&&function(t){e.d(n,t,(function(){return a[t]}))}(i);n["default"]=o.a},"1e45":function(t,n,e){"use strict";e.r(n);var a=e("330a"),o=e("1891");for(var i in o)["default"].indexOf(i)<0&&function(t){e.d(n,t,(function(){return o[t]}))}(i);e("2655");var l=e("f0c5"),u=Object(l["a"])(o["default"],a["b"],a["c"],!1,null,"56192e3f",null,!1,a["a"],void 0);n["default"]=u.exports},2655:function(t,n,e){"use strict";var a=e("f6cc"),o=e.n(a);o.a},"330a":function(t,n,e){"use strict";e.d(n,"b",(function(){return o})),e.d(n,"c",(function(){return i})),e.d(n,"a",(function(){return a}));var a={tnPopup:e("9a45").default,tnButton:e("01c1").default},o=function(){var t=this,n=t.$createElement,e=t._self._c||n;return t.value?e("v-uni-view",{staticClass:"tn-modal-class tn-modal"},[e("tn-popup",{attrs:{mode:"center",popup:!1,borderRadius:t.radius,width:t.width,zoom:t.zoom,safeAreaInsetBottom:t.safeAreaInsetBottom,maskCloseable:t.maskCloseable,zIndex:t.zIndex,closeBtn:t.showCloseBtn},on:{close:function(n){arguments[0]=n=t.$handleEvent(n),t.close.apply(void 0,arguments)}},model:{value:t.value,callback:function(n){t.value=n},expression:"value"}},[e("v-uni-view",{staticClass:"tn-modal__box",class:[t.backgroundColorClass],style:[t.boxStyle]},[t.custom?e("v-uni-view",[t._t("default")],2):e("v-uni-view",[t.title&&""!==t.title?e("v-uni-view",{staticClass:"tn-modal__box__title"},[t._v(t._s(t.title))]):t._e(),e("v-uni-view",{staticClass:"tn-modal__box__content",class:[t.fontColorClass,t.contentClass],style:t.contentStyle},[t._v(t._s(t.content))]),t.button&&t.button.length?e("v-uni-view",{staticClass:"tn-modal__box__btn-box",class:[2!=t.button.length?"tn-flex-direction-column":""]},[t._l(t.button,(function(n,a){return[e("tn-button",{key:a+"_0",class:[t.button.length>2?"tn-margin-bottom":""],style:{width:2!=t.button.length?"80%":"46%"},attrs:{width:"100%",height:"68rpx",fontSize:26,backgroundColor:n.backgroundColor||"",fontColor:n.fontColor||"",plain:n.plain||!1,shape:n.shape||"round"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.handleClick(a)}}},[t._v(t._s(n.text))])]}))],2):t._e()],1)],1)],1)],1):t._e()},i=[]},6279:function(t,n,e){"use strict";e.r(n);var a=e("a2d6"),o=e("6c80");for(var i in o)["default"].indexOf(i)<0&&function(t){e.d(n,t,(function(){return o[t]}))}(i);e("a1aa");var l=e("f0c5"),u=Object(l["a"])(o["default"],a["b"],a["c"],!1,null,"37b50153",null,!1,a["a"],void 0);n["default"]=u.exports},"6c80":function(t,n,e){"use strict";e.r(n);var a=e("126a"),o=e.n(a);for(var i in a)["default"].indexOf(i)<0&&function(t){e.d(n,t,(function(){return a[t]}))}(i);n["default"]=o.a},"8d48":function(t,n,e){var a=e("24fb");n=a(!1),n.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为Tuniao UI的集成样式文件，为scss预处理器，其中包含了一些"tn-"开头的自定义变量\r\n * 使用的时候，请将下面的一行复制到您的uniapp项目根目录的uni.scss中即可\r\n * Tuniao UI自定义的css类名和scss变量，均以"tn-"开头，不会造成冲突，请放心使用 \r\n */.take-out__map[data-v-37b50153]{width:100%;height:calc(100vh - 300px)}',""]),t.exports=n},a1aa:function(t,n,e){"use strict";var a=e("ca1f"),o=e.n(a);o.a},a2d6:function(t,n,e){"use strict";e.d(n,"b",(function(){return o})),e.d(n,"c",(function(){return i})),e.d(n,"a",(function(){return a}));var a={tnNavBar:e("72c2").default,tnModal:e("1e45").default,tnButton:e("01c1").default},o=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-uni-view",{staticClass:"take-out__walking-route"},[e("tn-nav-bar",{attrs:{fixed:!0}},[t._v("路线轨迹")]),e("v-uni-view",{style:{paddingTop:t.vuex_custom_bar_height+"px"}},[e("v-uni-map",{staticClass:"take-out__map",attrs:{longitude:t.location.longitude,latitude:t.location.latitude,scale:18,polyline:t.mapPolyline,markers:t.mapMarkers}})],1),e("tn-modal",{attrs:{custom:!0,showCloseBtn:!0,width:"auto",padding:"40rpx 80rpx"},model:{value:t.openSettingFlag,callback:function(n){t.openSettingFlag=n},expression:"openSettingFlag"}},[e("v-uni-view",{staticClass:"tn-flex tn-flex-direction-column tn-flex-row-center tn-flex-col-center"},[e("v-uni-view",{staticClass:"tn-text-bold tn-text-lg"},[t._v("授权使用位置信息")]),e("v-uni-view",{staticClass:"tn-margin-top-xs tn-color-gray"},[t._v("获取定位失败, 请进行设置")]),e("v-uni-view",{staticClass:"tn-margin-top"},[e("tn-button",{attrs:{backgroundColor:"#01BEFF",fontColor:"#FFFFFF"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.openSetting.apply(void 0,arguments)}}},[t._v("打开设置")])],1)],1)],1)],1)},i=[]},ca1f:function(t,n,e){var a=e("8d48");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=e("4f06").default;o("27d0e7de",a,!0,{sourceMap:!1,shadowMode:!1})},f671:function(t,n,e){"use strict";e("7a82");var a=e("4ea4").default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,e("a9e3");var o=a(e("1910")),i={mixins:[o.default],name:"tn-modal",props:{value:{type:Boolean,default:!1},width:{type:String,default:"84%"},padding:{type:String,default:""},radius:{type:Number,default:12},title:{type:String,default:""},content:{type:String,default:""},button:{type:Array,default:function(){return[]}},safeAreaInsetBottom:{type:Boolean,default:!1},maskCloseable:{type:Boolean,default:!0},showCloseBtn:{type:Boolean,default:!1},zoom:{type:Boolean,default:!0},custom:{type:Boolean,default:!1},zIndex:{type:Number,default:0}},computed:{boxStyle:function(){var t={};return this.padding&&(t.padding=this.padding),this.backgroundColorStyle&&(t.backgroundColor=this.backgroundColorStyle),t},contentClass:function(){var t="";return this.title?t+=" tn-margin-top":t+=" tn-modal__box__content--no-title",t},contentStyle:function(){var t={};return this.fontSize&&(t.fontSize=this.fontSize+this.fontUnit),this.fontColorStyle&&(t.color=this.fontColorStyle),t}},data:function(){return{}},methods:{handleClick:function(t){this.value&&this.$emit("click",{index:Number(t)})},close:function(){this.$emit("cancel"),this.$emit("input",!1)}}};n.default=i},f6cc:function(t,n,e){var a=e("f9cd");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=e("4f06").default;o("3dbe72d3",a,!0,{sourceMap:!1,shadowMode:!1})},f9cd:function(t,n,e){var a=e("24fb");n=a(!1),n.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为Tuniao UI的集成样式文件，为scss预处理器，其中包含了一些"tn-"开头的自定义变量\r\n * 使用的时候，请将下面的一行复制到您的uniapp项目根目录的uni.scss中即可\r\n * Tuniao UI自定义的css类名和scss变量，均以"tn-"开头，不会造成冲突，请放心使用 \r\n */.tn-modal__box[data-v-56192e3f]{position:relative;box-sizing:border-box;background-color:#fff;padding:%?40?% %?64?%}.tn-modal__box__title[data-v-56192e3f]{text-align:center;font-size:%?34?%;color:#333;padding-top:%?20?%;font-weight:700}.tn-modal__box__content[data-v-56192e3f]{text-align:center;padding-bottom:%?30?%;color:#080808;font-size:%?28?%}.tn-modal__box__content--no-title[data-v-56192e3f]{padding-bottom:%?0?%!important}.tn-modal__box__btn-box[data-v-56192e3f]{width:100%;display:flex;align-items:center;justify-content:space-between}.tn-modal__box__content ~ .tn-modal__box__btn-box[data-v-56192e3f]{margin-top:%?30?%}',""]),t.exports=n}}]);