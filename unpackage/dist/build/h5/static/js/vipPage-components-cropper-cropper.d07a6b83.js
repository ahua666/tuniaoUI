(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["vipPage-components-cropper-cropper"],{"0282":function(t,e,i){"use strict";i.r(e);var n=i("2ef5"),a=i("2a2d");for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("c51b");var s=i("f0c5"),r=i("30a92"),c=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"01723a92",null,!1,n["a"],void 0);"function"===typeof r["a"]&&Object(r["a"])(c),e["default"]=c.exports},"23e4":function(t,e,i){"use strict";i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("d81d");var n={name:"multiple-options-demo",props:{list:{type:Array,default:function(){return[]}}},data:function(){return{tuniaoColorList:["red","purplered","purple","bluepurple","aquablue","blue","indigo","cyan","teal","green","orange","orangered"],listData:[]}},watch:{list:function(t){this.initList()}},created:function(){this.initList()},methods:{initList:function(){var t=this;this.listData=this.list.map((function(e,i){return e.bgColorIndex=t.getBgNum(),e.mainIcon=(null===e||void 0===e?void 0:e.mainIcon)||"computer-fill",e.subIcon=(null===e||void 0===e?void 0:e.subIcon)||"share",e}))},navOptionsPage:function(t){uni.navigateTo({url:t})},getBgNum:function(){return Math.floor(Math.random()*this.tuniaoColorList.length)}}};e.default=n},2547:function(t,e,i){"use strict";i("7a82");var n=i("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("fdf8")),o={name:"vipComponentCropper",components:{multipleOptionsDemo:a.default},data:function(){return{imageUrl:"",isRound:!1,switchText:"切换为圆形裁剪框",showCropperImage:!1,cropperImageUrl:""}},methods:{chooseImage:function(){var t=this;uni.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(e){var i=e.tempFilePaths[0];t.imageUrl=i}})},switchBorderRect:function(){this.isRound=!this.isRound,this.isRound?this.switchText="切换为正方形裁剪框":this.switchText="切换为圆形裁剪框"},cropperFinish:function(t){this.showCropperImage=!0,t.url&&(this.cropperImageUrl=t.url),t.base64&&(this.cropperImageUrl="".concat(t.base64))}}};e.default=o},"2a2d":function(t,e,i){"use strict";i.r(e);var n=i("8ec7"),a=i.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},"2ef5":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"tn-cropper-class tn-cropper",on:{touchmove:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.stop.apply(void 0,arguments)}}},[t.imageUrl?i("v-uni-image",{staticClass:"tn-cropper__image",style:{width:(t.imgWidth?t.imgWidth:t.width)+"px",height:(t.imgHeight?t.imgHeight:t.height)+"px",transitionDuration:(t.animation?.3:0)+"s"},attrs:{src:t.imageUrl,mode:"widthFix","data-minScale":t.minScale,"data-maxScale":t.maxScale},on:{load:function(e){arguments[0]=e=t.$handleEvent(e),t.imageLoad.apply(void 0,arguments)},error:function(e){arguments[0]=e=t.$handleEvent(e),t.imageLoad.apply(void 0,arguments)},touchstart:function(e){e=t.$handleWxsEvent(e),t.wxs.touchStart(e,t.$getComponentDescriptor())},touchmove:function(e){e=t.$handleWxsEvent(e),t.wxs.touchMove(e,t.$getComponentDescriptor())},touchend:function(e){e=t.$handleWxsEvent(e),t.wxs.touchEnd(e,t.$getComponentDescriptor())}}}):t._e(),i("v-uni-view",{staticClass:"tn-cropper__wrapper",style:{width:t.width+"px",height:t.height+"px",borderRadius:t.isRound?"50%":"0"}},[i("v-uni-view",{wxsProps:{"change:prop":"props"},staticClass:"tn-cropper__border",style:{border:t.borderStyle,borderRadius:t.isRound?"50%":"0"},attrs:{prop:t.props,"change:prop":t.wxs.propsChange,"data-width":t.width,"data-height":t.height,"data-windowHeight":t.systemInfo.windowHeight||600,"data-windowWidth":t.systemInfo.windowWidth||400,"data-imgTop":t.imgTop,"data-imgWidth":t.imgWidth,"data-imgHeight":t.imgHeight,"data-angle":t.angle}})],1),i("v-uni-canvas",{staticClass:"tn-cropper__canvas",style:{width:t.width*t.scaleRatio+"px",height:t.height*t.scaleRatio+"px"},attrs:{"canvas-id":t.CANVAS_ID,id:t.CANVAS_ID,"disable-scroll":!0}}),t.custom?t._e():i("v-uni-view",{staticClass:"tn-cropper__tabbar"},[i("v-uni-view",{staticClass:"tn-cropper__tabbar__btn tn-cropper__tabber__cancel",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.back.apply(void 0,arguments)}}},[t._v("取消")]),i("v-uni-view",{staticClass:"tn-cropper__tabbar__rotate",class:["tn-icon-"+t.rotateIcon],on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.setAngle.apply(void 0,arguments)}}}),i("v-uni-view",{staticClass:"tn-cropper__tabbar__btn tn-cropper__tabber__confirm",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.getCutImage.apply(void 0,arguments)}}},[t._v("完成")])],1)],1)},a=[]},"2f8e":function(t,e,i){"use strict";i.r(e);var n=i("c644"),a=i("59df");for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("565b");var s=i("f0c5"),r=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"0bd63c7c",null,!1,n["a"],void 0);e["default"]=r.exports},"30a92":function(t,e,i){"use strict";e["a"]=function(t){(t.options.wxs||(t.options.wxs={}))["wxs"]=function(t){var e={cutX:0,cutY:0,touchRelactive:[{x:0,y:0}],hypotenuseLength:0,touchEndFlag:!1,canvasWidth:0,canvasHeight:0,imgWidth:0,imgHeight:0,scale:1,angle:0,imgTop:0,imgLeft:0,windowWidth:0,windowHeight:0,init:!0};function i(t){var i=.5*(e.windowWidth-e.canvasWidth),a=.5*(e.windowHeight-e.canvasHeight);e.imgTop=e.imgTop-e.cutY+a,e.cutY=a,e.imgLeft=e.imgLeft-e.cutX+i,e.cutX=i,n(t),r(t),c(t)}function n(t){var i=e.windowHeight,n=e.windowWidth,a=function(){e.cutY<0&&(e.cutY=0),e.cutY>i-e.canvasHeight&&(e.cutY=i-e.canvasHeight)},o=function(){e.cutX<0&&(e.cutX=0),e.cutX>n-e.canvasWidth&&(e.cutX=n-e.canvasWidth)};if(null===e.cutX&&null===e.cutY){var s=.5*(n-e.canvasWidth),r=.5*(i-e.canvasHeight);e.cutX=s,e.cutY=r}else null!==e.cutX&&null!==e.cutX?(a(),o()):null!==e.cutX&&null===e.cutY?(o(),e.cutY=(i-e.canvasHeight)/2):null===e.cutX&&null!==e.cutY&&(a(),e.cutX=(n-e.canvasWidth)/2)}function a(t,i){var n=e.scale,a=e.imgWidth,s=e.imgHeight;e.angle/90%2&&(a=e.imgHeight,s=e.imgWidth),a*n<e.canvasWidth&&(n=e.canvasWidth/a),s*n<e.canvasHeight&&(n=Math.max(n,e.canvasHeight/s)),o(t,n,i)}function o(t,i,n){var a=e.imgLeft,o=e.imgTop,s=e.imgWidth,c=e.imgHeight;i=i||e.scale,e.angle/90%2&&(s=e.imgHeight,c=e.imgWidth),a=e.cutX+s*i/2>=a?a:e.cutX+s*i/2,a=e.cutX+e.canvasWidth-s*i/2<=a?a:e.cutX+e.canvasWidth-s*i/2,o=e.cutY+c*i/2>=o?o:e.cutY+c*i/2,o=e.cutY+e.canvasHeight-c*i/2<=o?o:e.cutY+e.canvasHeight-c*i/2,e.imgLeft=a,e.imgTop=o,e.scale=i,n&&"null"!==n||r(t)}function s(t){e.canvasWidth>e.windowWidth?e.canvasWidth=e.windowWidth:e.canvasWidth+e.cutX>e.windowWidth&&(e.cutX=e.windowWidth-e.cutX),e.canvasHeight>e.windowHeight?e.canvasHeight=e.windowHeight:e.canvasHeight+e.cutY>e.windowHeight&&(e.cutY=e.windowHeight-e.cutY)}function r(t){var i=t.selectComponent(".tn-cropper__image");if(i){var n=e.imgLeft-e.imgWidth/2,a=e.imgTop-e.imgHeight/2;i.setStyle({transform:"translate3d("+n+"px,"+a+"px,0) scale("+e.scale+") rotate("+e.angle+"deg)"})}}function c(t){t&&t.callMethod("change",{cutX:e.cutX,cutY:e.cutY,imgWidth:e.imgWidth,imgHeight:e.imgHeight,scale:e.scale,angle:e.angle,imgTop:e.imgTop,imgLeft:e.imgLeft})}return t.exports={touchStart:function(t,i){var n=t.touches||t.changedTouches;if(e.touchEndFlag=!1,1===n.length)e.touchRelactive[0]={x:n[0].pageX-e.imgLeft,y:n[0].pageY-e.imgTop};else{var a=Math.abs(n[0].pageX-n[1].pageX),o=Math.abs(n[0].pageY-n[1].pageY);e.touchRelactive=[{x:n[0].pageX-e.imgLeft,y:n[0].pageY-e.imgTop},{x:n[1].pageX-e.imgLeft,y:n[1].pageY-e.imgTop}],e.hypotenuseLength=Math.sqrt(Math.pow(a,2)+Math.pow(o,2))}},touchMove:function(t,i){var n=t.touches||t.changedTouches;if(!e.touchEndFlag)if(function(t){if(!t)return;t.callMethod("moveDuring")}(i),1===t.touches.length){var s=n[0].pageX-e.touchRelactive[0].x,c=n[0].pageY-e.touchRelactive[0].y;e.imgLeft=s,e.imgTop=c,r(i),o(i)}else{var l=t.instance.getDataset(),u=+l.minscale,d=+l.maxscale,p=Math.abs(n[0].pageX-n[1].pageX),h=Math.abs(n[0].pageY-n[1].pageY),f=Math.sqrt(Math.pow(p,2)+Math.pow(h,2)),g=e.scale*(f/e.hypotenuseLength);g=g<=u?u:g,g=g>=d?d:g,e.scale=g,a(i,!0);var m=[{x:n[0].pageX-e.imgLeft,y:n[0].pageY-e.imgTop},{x:n[1].pageX-e.imgLeft,y:n[1].pageY-e.imgTop}];e.touchRelactive=m,e.hypotenuseLength=Math.sqrt(Math.pow(p,2)+Math.pow(h,2)),e.angle=e.angle+0,r(i)}},touchEnd:function(t,i){e.touchEndFlag=!0,function(t){if(!t)return;t.callMethod("moveStop")}(i),c(i)},propsChange:function(t,o,c,l){if(t&&"null"!==t){var u=t.split(","),d=+u[0],p=l.getDataset();switch(e.init||4==d?(e.canvasWidth=+p.width,e.canvasHeight=+p.height,e.imgTop=+p.windowheight/2,e.imgLeft=+p.windowwidth/2,e.imgWidth=+p.imgwidth,e.imgHeight=+p.imgheight,e.windowHeight=+p.windowheight,e.windowWidth=+p.windowwidth,e.init=!1):2!=d&&3!=d||(e.imgWidth=+p.imgwidth,e.imgHeight=+p.imgheight),e.angle=+p.angle,3==d&&r(c),d){case 1:i(c),s(c),n(c);break;case 2:i(c);break;case 3:a(c);break;case 4:(function(t){e.scale=1,e.angle=0,r(t)})(c);break;case 5:i(c);break;default:break}}}},t.exports}({exports:{}})}},"338a":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为Tuniao UI的集成样式文件，为scss预处理器，其中包含了一些"tn-"开头的自定义变量\r\n * 使用的时候，请将下面的一行复制到您的uniapp项目根目录的uni.scss中即可\r\n * Tuniao UI自定义的css类名和scss变量，均以"tn-"开头，不会造成冲突，请放心使用 \r\n */.cropper-options[data-v-0bd63c7c]{display:flex;align-items:center;justify-content:center;z-index:1000;margin-top:%?80?%}.cropper-options__item[data-v-0bd63c7c]{color:#fff;font-size:%?28?%;padding:%?18?% %?36?%;border:%?2?% solid #fff;z-index:1000}.cropper-options__item[data-v-0bd63c7c]:nth-child(1){border-right:none}',""]),t.exports=e},3991:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为Tuniao UI的集成样式文件，为scss预处理器，其中包含了一些"tn-"开头的自定义变量\r\n * 使用的时候，请将下面的一行复制到您的uniapp项目根目录的uni.scss中即可\r\n * Tuniao UI自定义的css类名和scss变量，均以"tn-"开头，不会造成冲突，请放心使用 \r\n */.list__item[data-v-3be4dde5]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;width:calc(100% - %?60?%);margin:%?108?% %?30?% %?0?% %?30?%;box-shadow:%?0?% %?10?% %?50?% %?0?% rgba(0,3,72,.1);border-radius:%?20?%}.list__content[data-v-3be4dde5]{flex:1;margin:%?34?% %?0?% %?27?% %?37?%}.list__content__title[data-v-3be4dde5]{font-size:%?36?%;font-weight:700;margin-bottom:%?12?%}.list__content__desc[data-v-3be4dde5]{font-size:%?28?%}.list__icon[data-v-3be4dde5]{flex:1;margin-right:%?26?%;position:relative}.list__icon__main[data-v-3be4dde5], .list__icon__sub[data-v-3be4dde5]{-webkit-background-clip:text;color:transparent;position:absolute;transition:-webkit-transform .25s ease;transition:transform .25s ease;transition:transform .25s ease,-webkit-transform .25s ease}.list__icon__main[data-v-3be4dde5]{font-size:%?200?%;width:%?190?%;line-height:%?200?%;top:0;right:%?0?%;-webkit-transform:translateY(-60%);transform:translateY(-60%)}.list__icon__sub[data-v-3be4dde5]{font-size:%?70?%;top:0;right:%?175?%;-webkit-transform:translateY(%?-5?%);transform:translateY(%?-5?%)}',""]),t.exports=e},"3bb6":function(t,e,i){"use strict";var n=i("a5e7"),a=i.n(n);a.a},"4af0":function(t,e,i){"use strict";i.r(e);var n=i("533c"),a=i.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},"4c7d":function(t,e,i){var n=i("9f32");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("3b524d37",n,!0,{sourceMap:!1,shadowMode:!1})},"533c":function(t,e,i){"use strict";i("7a82");var n=i("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("a9e3"),i("99af");var a=n(i("c846")),o={mixins:[a.default],name:"tn-popup",props:{value:{type:Boolean,default:!1},mode:{type:String,default:"left"},mask:{type:Boolean,default:!0},length:{type:[Number,String],default:"auto"},width:{type:String,default:""},height:{type:String,default:""},zoom:{type:Boolean,default:!0},safeAreaInsetBottom:{type:Boolean,default:!1},maskCloseable:{type:Boolean,default:!0},customStyle:{type:Object,default:function(){return{}}},borderRadius:{type:Number,default:0},zIndex:{type:Number,default:0},closeBtn:{type:Boolean,default:!1},closeBtnIcon:{type:String,default:"close"},closeBtnPosition:{type:String,default:"top-right"},closeIconColor:{type:String,default:"#AAAAAA"},closeIconSize:{type:Number,default:30},negativeTop:{type:Number,default:0},marginTop:{type:Number,default:0},popup:{type:Boolean,default:!0}},computed:{popupStyle:function(){var t={};return"top"!==this.mode&&"left"!==this.mode&&"right"!==this.mode||!this.marginTop||(t.marginTop=this.$tn.string.getLengthUnitValue(this.marginTop,"px")),t},contentStyle:function(){var t={};if("left"===this.mode||"right"===this.mode?t={width:this.width?this.$tn.string.getLengthUnitValue(this.width):this.$tn.string.getLengthUnitValue(this.length),height:"100%",transform:"translate3D(".concat("left"===this.mode?"-100%":"100%",", 0px, 0px)")}:"top"!==this.mode&&"bottom"!==this.mode||(t={width:"100%",height:this.height?this.$tn.string.getLengthUnitValue(this.height):this.$tn.string.getLengthUnitValue(this.length),transform:"translate3D(0px, ".concat("top"===this.mode?"-100%":"100%",", 0px)")}),t.zIndex=this.elZIndex,this.borderRadius){switch(this.mode){case"left":t.borderRadius="0 ".concat(this.borderRadius,"rpx ").concat(this.borderRadius,"rpx 0");break;case"top":t.borderRadius="0 0 ".concat(this.borderRadius,"rpx ").concat(this.borderRadius,"rpx");break;case"right":t.borderRadius="".concat(this.borderRadius,"rpx 0 0 ").concat(this.borderRadius,"rpx");break;case"bottom":t.borderRadius="".concat(this.borderRadius,"rpx ").concat(this.borderRadius,"rpx 0 0");break}t.overflow="hidden"}return this.backgroundColorStyle&&"center"!==this.mode&&(t.backgroundColor=this.backgroundColorStyle),t},centerStyle:function(){var t={};return t.width=this.width?this.$tn.string.getLengthUnitValue(this.width):this.$tn.string.getLengthUnitValue(this.length),t.height=this.height?this.$tn.string.getLengthUnitValue(this.height):"auto",t.zIndex=this.elZIndex,this.negativeTop&&(t.marginTop="-".concat(this.$tn.string.getLengthUnitValue(this.negativeTop))),this.borderRadius&&(t.borderRadius="".concat(this.borderRadius,"rpx"),t.overflow="hidden"),this.backgroundColorStyle&&(t.backgroundColor=this.backgroundColorStyle),t},closeBtnStyle:function(){var t={};return this.closeIconColor&&(t.color=this.closeIconColor),this.closeIconSize&&(t.fontSize=this.closeIconSize+"rpx"),t},elZIndex:function(){return this.zIndex?this.zIndex:this.$tn.zIndex.popup}},data:function(){return{timer:null,visibleSync:!1,showPopup:!1,closeFromInner:!1}},watch:{value:function(t){if(t){if(this.visibleSync)return void(this.visibleSync=!1);this.open()}else this.closeFromInner||this.close();this.closeFromInner=!1}},mounted:function(){this.value&&this.open()},methods:{maskClick:function(){this.maskCloseable&&this.close()},open:function(){this.change("visibleSync","showPopup",!0)},close:function(){this.closeFromInner=!0,this.change("showPopup","visibleSync",!1)},modeCenterClose:function(){"center"==this.mode&&this.maskCloseable&&this.close()},change:function(t,e,i){var n=this;!0===this.popup&&this.$emit("input",i),this[t]=i,this.timer=i?setTimeout((function(){n[e]=i,n.$emit(i?"open":"close"),clearTimeout(n.timer)}),10):setTimeout((function(){n[e]=i,n.$emit(i?"open":"close"),clearTimeout(n.timer)}),250)}}};e.default=o},"565b":function(t,e,i){"use strict";var n=i("866f"),a=i.n(n);a.a},"59df":function(t,e,i){"use strict";i.r(e);var n=i("2547"),a=i.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},"6bad":function(t,e,i){"use strict";i.r(e);var n=i("23e4"),a=i.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},"6cfe":function(t,e,i){"use strict";i.r(e);var n=i("7556"),a=i("4af0");for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("af32");var s=i("f0c5"),r=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"543b3100",null,!1,n["a"],void 0);e["default"]=r.exports},"6e67":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"multiple-options"},[i("v-uni-view",{staticClass:"list"},[t._l(t.listData,(function(e,n){return[i("v-uni-view",{key:n+"_0",staticClass:"list__item",class:["tn-main-gradient-"+t.tuniaoColorList[e.bgColorIndex]+"--light"],on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.navOptionsPage(e.url)}}},[i("v-uni-view",{staticClass:"list__content"},[i("v-uni-view",{staticClass:"list__content__title"},[t._v(t._s(e.title))]),i("v-uni-view",{staticClass:"list__content__desc"},[t._v(t._s(e.desc))])],1),i("v-uni-view",{staticClass:"list__icon"},[i("v-uni-view",{staticClass:"list__icon__main",class:["tn-icon-"+e.mainIcon,"tn-main-gradient-"+t.tuniaoColorList[e.bgColorIndex]]}),i("v-uni-view",{staticClass:"list__icon__sub",class:["tn-icon-"+e.subIcon,"tn-main-gradient-"+t.tuniaoColorList[e.bgColorIndex]]})],1)],1)]}))],2)],1)},a=[]},7556:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.visibleSync?i("v-uni-view",{staticClass:"tn-popup-class tn-popup",style:[t.customStyle,t.popupStyle,{zIndex:t.elZIndex-1}],attrs:{"hover-stop-propagation":!0}},[i("v-uni-view",{staticClass:"tn-popup__mask",class:[{"tn-popup__mask--show":t.showPopup&&t.mask}],style:{zIndex:t.elZIndex-2},attrs:{"hover-stop-propagation":!0},on:{touchmove:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),function(){}.apply(void 0,arguments)},click:function(e){arguments[0]=e=t.$handleEvent(e),t.maskClick.apply(void 0,arguments)}}}),i("v-uni-view",{staticClass:"tn-popup__content",class:["center"!==t.mode?t.backgroundColorClass:"",t.safeAreaInsetBottom?"tn-safe-area-inset-bottom":"","tn-popup--"+t.mode,t.showPopup?"tn-popup__content--visible":"",t.zoom&&"center"===t.mode?"tn-popup__content__center--animation-zoom":""],style:[t.contentStyle],on:{touchmove:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e)},click:[function(e){arguments[0]=e=t.$handleEvent(e),t.modeCenterClose.apply(void 0,arguments)},function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e)}]}},["center"===t.mode?i("v-uni-view",{staticClass:"tn-popup__content__center_box",class:[t.backgroundColorClass],style:[t.centerStyle],on:{touchmove:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e)},click:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e)}}},[t.closeBtn?i("v-uni-view",{staticClass:"tn-popup__close",class:["tn-icon-"+t.closeBtnIcon,"tn-popup__close--"+t.closeBtnPosition],style:[t.closeBtnStyle,{zIndex:t.elZIndex}],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.close.apply(void 0,arguments)}}}):t._e(),i("v-uni-scroll-view",{staticClass:"tn-popup__content__scroll-view"},[t._t("default")],2)],1):i("v-uni-scroll-view",{staticClass:"tn-popup__content__scroll-view"},[t._t("default")],2),"center"!==t.mode&&t.closeBtn?i("v-uni-view",{staticClass:"tn-popup__close",class:["tn-popup__close--"+t.closeBtnPosition],style:{zIndex:t.elZIndex},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.close.apply(void 0,arguments)}}},[i("v-uni-view",{class:["tn-icon-"+t.closeBtnIcon],style:[t.closeBtnStyle]})],1):t._e()],1)],1):t._e()},a=[]},"857c":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为Tuniao UI的集成样式文件，为scss预处理器，其中包含了一些"tn-"开头的自定义变量\r\n * 使用的时候，请将下面的一行复制到您的uniapp项目根目录的uni.scss中即可\r\n * Tuniao UI自定义的css类名和scss变量，均以"tn-"开头，不会造成冲突，请放心使用 \r\n */.tn-popup[data-v-543b3100]{display:block;position:fixed;top:0;left:0;right:0;bottom:0;overflow:hidden}.tn-popup__content[data-v-543b3100]{display:block;position:absolute;transition:all .25s linear}.tn-popup__content--visible[data-v-543b3100]{-webkit-transform:translateZ(0)!important;transform:translateZ(0)!important}.tn-popup__content--visible.tn-popup--center[data-v-543b3100]{-webkit-transform:scale(1);transform:scale(1);opacity:1}.tn-popup__content__center_box[data-v-543b3100]{min-width:%?100?%;min-height:%?100?%;display:block;position:relative;background-color:#fff}.tn-popup__content__scroll-view[data-v-543b3100]{width:100%;height:100%}.tn-popup__content__center--animation-zoom[data-v-543b3100]{-webkit-transform:scale(1.15);transform:scale(1.15)}.tn-popup__scroll_view[data-v-543b3100]{width:100%;height:100%}.tn-popup--left[data-v-543b3100]{top:0;bottom:0;left:0;background-color:#fff}.tn-popup--right[data-v-543b3100]{top:0;bottom:0;right:0;background-color:#fff}.tn-popup--top[data-v-543b3100]{left:0;right:0;top:0;background-color:#fff}.tn-popup--bottom[data-v-543b3100]{left:0;right:0;bottom:0;background-color:#fff}.tn-popup--center[data-v-543b3100]{display:flex;flex-direction:column;bottom:0;top:0;left:0;right:0;justify-content:center;align-items:center;opacity:0}.tn-popup__close[data-v-543b3100]{position:absolute}.tn-popup__close--top-left[data-v-543b3100]{top:%?30?%;left:%?30?%}.tn-popup__close--top-right[data-v-543b3100]{top:%?30?%;right:%?30?%}.tn-popup__close--bottom-left[data-v-543b3100]{bottom:%?30?%;left:%?30?%}.tn-popup__close--bottom-right[data-v-543b3100]{bottom:%?30?%;right:%?30?%}.tn-popup__mask[data-v-543b3100]{width:100%;height:100%;position:fixed;top:0;left:0;right:0;border:0;background-color:rgba(0,0,0,.4);transition:.25s linear;transition-property:opacity;opacity:0}.tn-popup__mask--show[data-v-543b3100]{opacity:1}',""]),t.exports=e},"866f":function(t,e,i){var n=i("338a");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("1e663a04",n,!0,{sourceMap:!1,shadowMode:!1})},"8ec7":function(t,e,i){"use strict";(function(t){i("7a82");var n=i("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("5530")),o=n(i("c7eb")),s=n(i("1da1"));i("a9e3"),i("d3b7"),i("ace4"),i("5cc6"),i("907a"),i("9a8c"),i("a975"),i("735e"),i("c1ac"),i("d139"),i("3a7b"),i("986a"),i("1d02"),i("d5d6"),i("82f8"),i("e91f"),i("60bd"),i("5f96"),i("3280"),i("3fcc"),i("ca91"),i("25a1"),i("cd26"),i("3c5d"),i("2954"),i("649e"),i("219c"),i("b39a"),i("72f7");var r={name:"tn-cropper",props:{imageUrl:{type:String,default:""},height:{type:Number,default:280},width:{type:Number,default:280},isRound:{type:Boolean,default:!1},borderStyle:{type:String,default:"1rpx solid #FFF"},scaleRatio:{type:Number,default:1},quality:{type:Number,default:.8},returnBase64:{type:Boolean,default:!1},rotateAngle:{type:Number,default:0},minScale:{type:Number,default:.5},maxScale:{type:Number,default:2},custom:{type:Boolean,default:!1},startCutting:{type:Boolean,default:!1},loading:{type:Boolean,default:!0},rotateIcon:{type:String,default:"circle-arrow"}},data:function(){return{CANVAS_ID:"tn-cropper-canvas",TIME_CUT_CENTER:null,ctx:null,cutX:0,cutY:0,imgWidth:0,imgHeight:0,imgTop:0,imgLeft:0,scale:1,angle:0,animation:!1,animationTime:null,systemInfo:{},props:"",sizeChange:0,angleChange:0,resetChange:0,centerChange:0}},watch:{imageUrl:function(e){var i=this;this.imageReset(),this.showLoading(),uni.getImageInfo({src:e,success:function(t){i.imgComputeSize(t.width,t.height),i.angleChange++,i.props="3,".concat(i.angleChange)},fail:function(e){t("log",e," at tuniao-ui/components/tn-cropper/tn-cropper.vue:206"),i.imgComputeSize(),i.angleChange++,i.props="3,".concat(i.angleChange)}})},rotateAngle:function(t){this.animation=!0,this.angle=t,this.angleChanged(t)},animation:function(t){var e=this;clearTimeout(this.animationTime),t&&(this.animationTime=setTimeout((function(){e.animation=!1}),200))},startCutting:function(t){this.custom&&t&&this.getCutImage()}},mounted:function(){var t=this;this.systemInfo=uni.getSystemInfoSync(),this.imgTop=this.systemInfo.windowHeight/2,this.imgLeft=this.systemInfo.windowWidth/2,this.ctx=uni.createCanvasContext(this.CANVAS_ID,this),this.$nextTick((function(){t.props="1,1"})),setTimeout((function(){t.$emit("ready",{})}),200)},methods:{getLocalImage:function(t){return(0,s.default)((0,o.default)().mark((function e(){return(0,o.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,i){uni.downloadFile({url:t,success:function(t){e(t.tempFilePath)},fail:function(t){i(!1)}})}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()},getCutImage:function(){var t=this;if(this.imageUrl){this.loading&&this.showLoading();var e=function(){var e=(0,s.default)((0,o.default)().mark((function e(){var i,n,s,r,c,l,u,d;return(0,o.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=t.imgWidth*t.scale*t.scaleRatio,n=t.imgHeight*t.scale*t.scaleRatio,s=t.imgLeft-t.cutX,r=t.imgTop-t.cutY,c=t.imageUrl,t.ctx.translate(s*t.scaleRatio,r*t.scaleRatio),t.isRound&&(l=t.width>t.height?Math.floor(t.height/2):Math.floor(t.width/2),u=Math.floor(t.width/2),d=Math.floor(t.height/2),t.ctx.beginPath(),t.ctx.arc(u-s*t.scaleRatio,d-r*t.scaleRatio,l,0,360*Math.PI/180),t.ctx.closePath(),t.ctx.stroke(),t.ctx.clip()),t.ctx.rotate(t.angle*Math.PI/180),t.ctx.drawImage(c,-i/2,-n/2,i,n),t.ctx.draw(!1,(function(){var e={width:t.width*t.scaleRatio,height:Math.round(t.height*t.scaleRatio),destWidth:t.width*t.scaleRatio,destHeight:Math.round(t.height)*t.scaleRatio,fileType:"png",quality:t.quality},i={url:"",base64:"",width:t.width*t.scaleRatio,height:t.height*t.scaleRatio};t.returnBase64;uni.canvasToTempFilePath((0,a.default)((0,a.default)({},e),{},{canvasId:t.CANVAS_ID,success:function(e){i.url=e.tempFilePath,i.base64=e.tempFilePath,t.loading&&uni.hideLoading(),t.$emit("cropper",i)}}),t)}));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}else uni.showToast({title:"请选择图片",icon:"none"})},change:function(t){this.cutX=t.cutX||0,this.cutY=t.cutY||0,this.imgWidth=t.imgWidth||this.imgWidth,this.imgHeight=t.imgHeight||this.imgHeight,this.scale=t.scale||1,this.angle=t.angle||0,this.imgTop=t.imgTop||0,this.imgLeft=t.imgLeft||0},imageReset:function(){this.scale=1,this.angle=0;var t=this.systemInfo.windowHeight?this.systemInfo:uni.getSystemInfoSync();this.imgTop=t.windowHeight/2,this.imgLeft=t.windowWidth/2,this.resetChange++,this.props="4,".concat(this.resetChange),this.$emit("initAngle",{})},imgComputeSize:function(t,e){var i=t,n=e;if(i&&n)i/n>this.width/this.height?(n=this.height,i=t/e*n):(i=this.width,n=e/t*i);else{var a=this.systemInfo.windowHeight?this.systemInfo:uni.getSystemInfoSync();i=a.windowWidth,n=0}this.imgWidth=i,this.imgHeight=n,this.sizeChange++,this.props="2,".concat(this.sizeChange)},imageLoad:function(t){this.imageReset(),uni.hideLoading(),this.$emit("imageLoad",{})},moveStop:function(){var t=this;clearTimeout(this.TIME_CUT_CENTER),this.TIME_CUT_CENTER=setTimeout((function(){t.centerChange++,t.props="5,".concat(t.centerChange)}),688)},moveDuring:function(){clearTimeout(this.TIME_CUT_CENTER)},showLoading:function(){uni.showLoading({title:"请稍等......",mask:!0})},stop:function(){},back:function(){uni.navigateBack()},angleChanged:function(t){this.moveStop(),t%90&&(this.angle=90*Math.round(t/90)),this.angleChange++,this.props="3,".concat(this.angleChange)},setAngle:function(){this.animation=!0,this.angle=this.angle+90,this.angleChanged(this.angle)}}};e.default=r}).call(this,i("0de9")["log"])},9933:function(t,e,i){var n=i("857c");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("23aeffcd",n,!0,{sourceMap:!1,shadowMode:!1})},"9f32":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为Tuniao UI的集成样式文件，为scss预处理器，其中包含了一些"tn-"开头的自定义变量\r\n * 使用的时候，请将下面的一行复制到您的uniapp项目根目录的uni.scss中即可\r\n * Tuniao UI自定义的css类名和scss变量，均以"tn-"开头，不会造成冲突，请放心使用 \r\n */.tn-cropper[data-v-01723a92]{width:100vw;height:100vh;background-color:rgba(0,0,0,.7);position:fixed;top:0;left:0;z-index:1}.tn-cropper__image[data-v-01723a92]{width:100%;border-style:none;position:absolute;top:0;left:0;z-index:2;-webkit-backface-visibility:hidden;backface-visibility:hidden;-webkit-transform-origin:center;transform-origin:center}.tn-cropper__canvas[data-v-01723a92]{position:fixed;z-index:10;left:-2000px;top:-2000px;pointer-events:none}.tn-cropper__wrapper[data-v-01723a92]{position:fixed;z-index:4;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);border:3000px solid rgba(0,0,0,.55);pointer-events:none;box-sizing:initial}.tn-cropper__border[data-v-01723a92]{position:absolute;left:0;top:0;width:100%;height:100%;box-sizing:border-box;pointer-events:none}.tn-cropper__tabbar[data-v-01723a92]{width:100%;height:%?120?%;padding:0 %?40?%;box-sizing:border-box;position:fixed;left:0;bottom:0;z-index:99;display:flex;align-items:center;justify-content:space-between;color:#fff;font-size:%?32?%}.tn-cropper__tabbar[data-v-01723a92]::after{content:"";position:absolute;top:0;right:0;left:0;border-top:%?1?% solid hsla(0,0%,100%,.2);-webkit-transform:scaleY(.5) translateZ(0);transform:scaleY(.5) translateZ(0);-webkit-transform-origin:0 100%;transform-origin:0 100%}.tn-cropper__tabbar__btn[data-v-01723a92]{height:%?80?%;display:flex;align-items:center}.tn-cropper__tabbar__rotate[data-v-01723a92]{width:%?44?%;height:%?44?%;font-size:%?40?%;text-align:center}',""]),t.exports=e},a5e7:function(t,e,i){var n=i("3991");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("22bd9431",n,!0,{sourceMap:!1,shadowMode:!1})},af32:function(t,e,i){"use strict";var n=i("9933"),a=i.n(n);a.a},c51b:function(t,e,i){"use strict";var n=i("4c7d"),a=i.n(n);a.a},c644:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var n={tnNavBar:i("75e2").default,tnCropper:i("0282").default,tnPopup:i("6cfe").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"vip-component-cropper"},[i("tn-nav-bar",{attrs:{fixed:!0}},[t._v("Cropper图片裁剪")]),i("v-uni-view",{style:{paddingTop:t.vuex_custom_bar_height+"px"}},[i("v-uni-view",{staticClass:"cropper-options"},[i("v-uni-view",{staticClass:"cropper-options__item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.chooseImage.apply(void 0,arguments)}}},[t._v("选择图片")]),i("v-uni-view",{staticClass:"cropper-options__item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.switchBorderRect.apply(void 0,arguments)}}},[t._v(t._s(t.switchText))])],1)],1),i("tn-cropper",{attrs:{imageUrl:t.imageUrl,isRound:t.isRound},on:{cropper:function(e){arguments[0]=e=t.$handleEvent(e),t.cropperFinish.apply(void 0,arguments)}}}),i("tn-popup",{attrs:{marginTop:t.vuex_custom_bar_height,length:"80%",mode:"center",closeBtn:!0},model:{value:t.showCropperImage,callback:function(e){t.showCropperImage=e},expression:"showCropperImage"}},[i("v-uni-view",{staticClass:"tn-flex tn-flex-col-center tn-flex-row-center",staticStyle:{margin:"40rpx 60rpx"}},[i("v-uni-image",{staticStyle:{width:"80%"},attrs:{src:t.cropperImageUrl,mode:"widthFix"}})],1)],1)],1)},o=[]},fdf8:function(t,e,i){"use strict";i.r(e);var n=i("6e67"),a=i("6bad");for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("3bb6");var s=i("f0c5"),r=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"3be4dde5",null,!1,n["a"],void 0);e["default"]=r.exports}}]);