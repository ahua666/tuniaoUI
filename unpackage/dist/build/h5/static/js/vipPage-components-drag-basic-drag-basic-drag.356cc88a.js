(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["vipPage-components-drag-basic-drag-basic-drag"],{"00c7":function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为Tuniao UI的集成样式文件，为scss预处理器，其中包含了一些"tn-"开头的自定义变量\r\n * 使用的时候，请将下面的一行复制到您的uniapp项目根目录的uni.scss中即可\r\n * Tuniao UI自定义的css类名和scss变量，均以"tn-"开头，不会造成冲突，请放心使用 \r\n */.tn-number-box[data-v-d06f989a]{display:inline-flex;align-items:center}.tn-number-box__btn__plus[data-v-d06f989a], .tn-number-box__btn__minus[data-v-d06f989a]{width:%?60?%;display:flex;flex-direction:row;justify-content:center;align-items:center;background-color:#e6e6e6}.tn-number-box__btn__plus[data-v-d06f989a]{border-radius:0 %?8?% %?8?% 0}.tn-number-box__btn__minus[data-v-d06f989a]{border-radius:%?8?% 0 0 %?8?%}.tn-number-box__btn--disabled[data-v-d06f989a]{color:#aaa!important;background:#e6e6e6!important}.tn-number-box__input[data-v-d06f989a]{display:flex;flex-direction:row;align-items:center;justify-content:center;position:relative;text-align:center;box-sizing:border-box;padding:0 %?4?%;margin:0 %?6?%;background-color:#e6e6e6}.tn-number-box__input--disabled[data-v-d06f989a]{color:#aaa!important;background:#e6e6e6!important}',""]),t.exports=e},"0263":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"tn-number-box-class tn-number-box"},[n("v-uni-view",{staticClass:"tn-number-box__btn__minus",class:[t.backgroundColorClass,t.fontColorClass,{"tn-number-box__btn--disabled":t.disabled||t.inputValue<=t.min}],style:{backgroundColor:t.backgroundColorStyle,height:t.$tn.string.getLengthUnitValue(t.inputHeight),color:t.fontColorStyle,fontSize:t.fontSizeStyle},on:{touchstart:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.touchStart("minus")},touchend:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.clearTimer.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"tn-icon-reduce"})],1),n("v-uni-input",{staticClass:"tn-number-box__input",class:[t.fontColorClass,{"tn-number-box__input--disabled":t.disabledInput||t.disabled}],style:{width:t.$tn.string.getLengthUnitValue(t.inputWidth),height:t.$tn.string.getLengthUnitValue(t.inputHeight),color:t.fontColorStyle,fontSize:t.fontSizeStyle,backgroundColor:t.backgroundColorStyle},attrs:{disabled:t.disabledInput||t.disabled,"cursor-spacing":t.getCursorSpacing},on:{blur:function(e){arguments[0]=e=t.$handleEvent(e),t.blurInput.apply(void 0,arguments)},focus:function(e){arguments[0]=e=t.$handleEvent(e),t.focusInput.apply(void 0,arguments)}},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}}),n("v-uni-view",{staticClass:"tn-number-box__btn__plus",class:[t.backgroundColorClass,t.fontColorClass,{"tn-number-box__btn--disabled":t.disabled||t.inputValue>=t.max}],style:{backgroundColor:t.backgroundColorStyle,height:t.$tn.string.getLengthUnitValue(t.inputHeight),color:t.fontColorStyle,fontSize:t.fontSizeStyle},on:{touchstart:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.touchStart("plus")},touchend:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.clearTimer.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"tn-icon-add"})],1)],1)},a=[]},"0c42":function(t,e,n){"use strict";n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.debounceFun=function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;return function(){for(var i=this,a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];clearTimeout(e),e=setTimeout((function(){t.apply(i,o)}),n)}},e.throttleFun=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=null;return function(){for(var i=this,a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];n||(n=setTimeout((function(){n=null,console.log("执行了"),t.apply(i,o)}),e))}}},"0fbf":function(t,e,n){"use strict";n.r(e);var i=n("cb68"),a=n.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},"19b7":function(t,e,n){var i=n("a074");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("580e885d",i,!0,{sourceMap:!1,shadowMode:!1})},"20c1":function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为Tuniao UI的集成样式文件，为scss预处理器，其中包含了一些"tn-"开头的自定义变量\r\n * 使用的时候，请将下面的一行复制到您的uniapp项目根目录的uni.scss中即可\r\n * Tuniao UI自定义的css类名和scss变量，均以"tn-"开头，不会造成冲突，请放心使用 \r\n */.operation[data-v-dcf6f4e6]{display:flex;flex-direction:column;align-items:flex-start;justify-content:center;padding:0 %?100?%;margin-top:%?100?%}.operation__item[data-v-dcf6f4e6]{width:100%;margin-top:%?20?%}.operation__title[data-v-dcf6f4e6]{font-size:%?36?%}.operation__content[data-v-dcf6f4e6]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;width:100%;height:100%;margin-top:%?10?%}.drag__wrap[data-v-dcf6f4e6]{padding-left:%?30?%;padding-right:%?30?%}.drag__item[data-v-dcf6f4e6]{flex:1;display:flex;align-items:center;justify-content:center;background-color:#fff;padding:%?20?%;box-sizing:border-box;border:%?1?% solid #f6f6f6;position:relative}.drag__item uni-image[data-v-dcf6f4e6]{display:block;flex-shrink:0;width:100%}.drag__item__fixed[data-v-dcf6f4e6]{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;background-color:hsla(0,0%,100%,.5);font-size:%?40?%}',""]),t.exports=e},"28f8":function(t,e,n){"use strict";n("7a82");var i=n("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("a9e3"),n("ac1f"),n("00b4"),n("c975"),n("d401"),n("d3b7"),n("25f0");var a=i(n("7187")),o={mixins:[a.default],name:"tn-number-box",props:{value:{type:Number,default:1},index:{type:[Number,String],default:""},min:{type:Number,default:0},max:{type:Number,default:99999},step:{type:Number,default:1},disabled:{type:Boolean,default:!1},disabledInput:{type:Boolean,default:!1},inputWidth:{type:Number,default:88},inputHeight:{type:Number,default:50},cursorSpacing:{type:Number,default:100},longPress:{type:Boolean,default:!0},longPressTime:{type:Number,default:250},positiveInteger:{type:Boolean,default:!0}},computed:{getCursorSpacing:function(){return Number(uni.upx2px(this.cursorSpacing))}},data:function(){return{inputValue:1,longPressTimer:null,changeFromInner:!1,innerChangeTimer:null}},watch:{value:function(t){var e=this;this.changeFromInner||(this.updateInputValue(),this.$nextTick((function(){e.changeFromInner=!1})))},inputValue:function(t,e){var n=this;if(""!==t){var i=0,a=this.$tn.test.number(t);i=a&&t>=this.min&&t<=this.max?t:e,this.positiveInteger&&(t<0||-1!==String(t).indexOf("."))&&(i=Math.floor(t),this.$nextTick((function(){n.inputValue=i}))),this.handleChange(i,"change")}},min:function(){this.updateInputValue()},max:function(){this.updateInputValue()}},created:function(){this.updateInputValue()},methods:{touchStart:function(t){var e=this;this[t](),this.longPress&&(this.longPressTimer&&(clearInterval(this.longPressTimer),this.longPressTimer=null),this.longPressTimer=setInterval((function(){e[t]()}),this.longPressTime))},clearTimer:function(){var t=this;this.$nextTick((function(){t.longPressTimer&&(clearInterval(t.longPressTimer),t.longPressTimer=null)}))},minus:function(){this.computeValue("minus")},plus:function(){this.computeValue("plus")},calcPlus:function(t,e){var n,i=0,a=0;try{i=t.toString().split(".")[1].length}catch(r){i=0}try{a=e.toString().split(".")[1].length}catch(r){a=0}n=Math.pow(10,Math.max(i,a));var o=i>=a?i:a;return((t*n+e*n)/n).toFixed(o)},calcMinus:function(t,e){var n,i=0,a=0;try{i=t.toString().split(".")[1].length}catch(r){i=0}try{a=e.toString().split(".")[1].length}catch(r){a=0}n=Math.pow(10,Math.max(i,a));var o=i>=a?i:a;return((t*n-e*n)/n).toFixed(o)},computeValue:function(t){if(uni.hideKeyboard(),!this.disabled){var e=0;"minus"===t?e=this.calcMinus(this.inputValue,this.step):"plus"===t&&(e=this.calcPlus(this.inputValue,this.step)),e<this.min||e>this.max||(this.inputValue=e,this.handleChange(e,t))}},blurInput:function(t){var e=this,n=0,i=t.detail.value;n=/(^\d+$)/.test(i)&&0!=i[0]?+i:this.min,n>this.max?n=this.max:n<this.min&&(n=this.min),this.$nextTick((function(){e.inputValue=n})),this.handleChange(n,"blur")},focusInput:function(){this.$emit("focus")},updateInputValue:function(){var t=this.value;t<=this.min?t=this.min:t>=this.max&&(t=this.max),this.inputValue=Number(t)},handleChange:function(t,e){var n=this;this.disabled||(this.innerChangeTimer&&(clearTimeout(this.innerChangeTimer),this.innerChangeTimer=null),this.changeFromInner=!0,this.innerChangeTimer=setTimeout((function(){n.changeFromInner=!1}),150),this.$emit("input",Number(t)),this.$emit(e,{value:Number(t),index:this.index}))}}};e.default=o},"2e5e":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-button",{staticClass:"tn-btn-class tn-btn",class:[t.buttonClass,t.backgroundColorClass,t.fontColorClass],style:[t.buttonStyle],attrs:{"hover-class":"tn-hover",loading:t.loading,disabled:t.disabled,"form-type":t.formType,"open-type":t.openType},on:{getuserinfo:function(e){arguments[0]=e=t.$handleEvent(e),t.handleGetUserInfo.apply(void 0,arguments)},getphonenumber:function(e){arguments[0]=e=t.$handleEvent(e),t.handleGetPhoneNumber.apply(void 0,arguments)},contact:function(e){arguments[0]=e=t.$handleEvent(e),t.handleContact.apply(void 0,arguments)},error:function(e){arguments[0]=e=t.$handleEvent(e),t.handleError.apply(void 0,arguments)},click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleClick.apply(void 0,arguments)}}},[t._t("default")],2)},a=[]},3012:function(t,e,n){"use strict";var i=n("19b7"),a=n.n(i);a.a},"3a66":function(t,e,n){"use strict";var i=n("856e"),a=n.n(i);a.a},"3fdb":function(t,e,n){"use strict";var i=n("ca2e"),a=n.n(i);a.a},"419d":function(t,e,n){"use strict";var i=n("5c1d"),a=n.n(i);a.a},5126:function(t,e,n){"use strict";n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("14d9"),n("d3b7"),n("159b");var i={name:"VipComponentBasicDrag",data:function(){return{list:[],scrollTop:0,columns:3,itemHeight:210,sliderValue:3}},onLoad:function(){for(var t=[],e=0;e<15;e++)t.push({url:e%2==0?"https://resource.tuniaokj.com/images/shop/bag1.jpg":"https://resource.tuniaokj.com/images/shop/bag2.jpg",fixed:!1});this.list=t},watch:{columns:function(t){uni.pageScrollTo({scrollTop:0}),this.itemHeight=[210,160,120][t-3]}},methods:{onChange:function(t){},onEnd:function(t){console.log(t.data)},setFixed:function(){var t=Math.floor(14*Math.random());console.log(t),this.list.forEach((function(t){t.fixed=!1})),this.list[t].fixed=!0}}};e.default=i},"59aa":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var i={tnNavBar:n("5d18").default,tnNumberBox:n("bfd3").default,tnButton:n("eca3").default,tnDrag:n("bb16").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"vip-component-basic-drag"},[n("tn-nav-bar",{attrs:{fixed:!0}},[t._v("Drag拖拽")]),n("v-uni-view",{style:{paddingTop:t.vuex_custom_bar_height+"px"}},[n("v-uni-view",{staticClass:"operation"},[n("v-uni-view",{staticClass:"operation__item"},[n("v-uni-view",{staticClass:"operation__title"},[t._v("设置columns")]),n("v-uni-view",{staticClass:"operation__content"},[n("v-uni-view",{staticClass:"tn-margin-right"},[t._v("columns:")]),n("tn-number-box",{attrs:{min:3,max:5,disabledInput:!0},model:{value:t.columns,callback:function(e){t.columns=e},expression:"columns"}})],1)],1),n("v-uni-view",{staticClass:"operation__item"},[n("v-uni-view",{staticClass:"operation__title"},[t._v("设置固定项")]),n("v-uni-view",{staticClass:"operation__content"},[n("v-uni-view",{staticClass:"tn-margin-right"},[t._v("随机固定:")]),n("tn-button",{attrs:{backgroundColor:"#01BEFF",fontColor:"#FFFFFF",size:"sm"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.setFixed.apply(void 0,arguments)}}},[t._v("随机固定")])],1)],1)],1),n("v-uni-view",{staticClass:"drag__wrap tn-margin-top"},[n("tn-drag",{attrs:{list:t.list,columns:t.columns,itemHeight:t.itemHeight},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.onChange.apply(void 0,arguments)},end:function(e){arguments[0]=e=t.$handleEvent(e),t.onEnd.apply(void 0,arguments)}},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.entity,a=e.height,o=e.fixed;return[n("v-uni-view",{staticClass:"drag__item",style:{height:a+"rpx"}},[n("v-uni-image",{style:{height:a+"rpx"},attrs:{src:i.url,mode:"widthFix"}}),o?n("v-uni-view",{staticClass:"drag__item__fixed"},[t._v("Fixed")]):t._e()],1)]}}])})],1)],1)],1)},o=[]},"5bb9":function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为Tuniao UI的集成样式文件，为scss预处理器，其中包含了一些"tn-"开头的自定义变量\r\n * 使用的时候，请将下面的一行复制到您的uniapp项目根目录的uni.scss中即可\r\n * Tuniao UI自定义的css类名和scss变量，均以"tn-"开头，不会造成冲突，请放心使用 \r\n */.tn-btn[data-v-d2dc7f56]{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;line-height:1;text-align:center;text-decoration:none;overflow:visible;-webkit-transform:translate(%?0?%,%?0?%);transform:translate(%?0?%,%?0?%);border-radius:%?12?%;margin:0}.tn-btn--plain[data-v-d2dc7f56]{background-color:initial!important;background-image:none}.tn-btn--plain.tn-round[data-v-d2dc7f56]{border-radius:%?1000?%!important}',""]),t.exports=e},"5c1d":function(t,e,n){var i=n("20c1");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("0b349cf0",i,!0,{sourceMap:!1,shadowMode:!1})},"856e":function(t,e,n){var i=n("00c7");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("b0e91162",i,!0,{sourceMap:!1,shadowMode:!1})},a074:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为Tuniao UI的集成样式文件，为scss预处理器，其中包含了一些"tn-"开头的自定义变量\r\n * 使用的时候，请将下面的一行复制到您的uniapp项目根目录的uni.scss中即可\r\n * Tuniao UI自定义的css类名和scss变量，均以"tn-"开头，不会造成冲突，请放心使用 \r\n */.tn-drag[data-v-533f385c]{position:relative}.tn-drag__item[data-v-533f385c]{position:absolute;z-index:2;top:0;left:0}.tn-drag__transition[data-v-533f385c]{transition:-webkit-transform .25s!important;transition:transform .25s!important;transition:transform .25s,-webkit-transform .25s!important}.tn-drag__current[data-v-533f385c]{z-index:10!important}.tn-drag__fixed[data-v-533f385c]{z-index:1!important}',""]),t.exports=e},a345:function(t,e,n){"use strict";n("7a82");var i=n("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("a9e3"),n("c975"),n("fb6a"),n("baa5"),n("caad"),n("2532");var a=i(n("7187")),o=n("0c42"),r={mixins:[a.default],name:"tn-button",behaviors:["wx://form-field-button"],props:{index:{type:[Number,String],default:0},shape:{type:String,default:"default"},shadow:{type:Boolean,default:!1},width:{type:String,default:"auto"},height:{type:String,default:""},size:{type:String,default:""},fontBold:{type:Boolean,default:!1},padding:{type:String,default:"0 30rpx"},margin:{type:String,default:""},plain:{type:Boolean,default:!1},border:{type:Boolean,default:!0},borderBold:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},formType:{type:String,default:""},openType:{type:String,default:""},blockRepeatClick:{type:Boolean,default:!1},scene:{type:String,default:"none"},blockTime:{type:Number,default:200}},computed:{buttonClass:function(){var t="";switch(this.shape){case"icon":case"round":t+=" tn-round";break}if(this.shadow)if(""!==this.backgroundColorClass&&-1!=this.backgroundColorClass.indexOf("tn-bg")){var e=this.backgroundColor.slice(this.backgroundColor.lastIndexOf("-")+1);t+=" tn-shadow-".concat(e)}else t+=" tn-shadow-blur";if(this.fontBold&&(t+=" tn-text-bold"),this.plain&&(t+=" tn-btn--plain",this.border&&(t+=" tn-border-solid",this.borderBold&&(t+=" tn-bold-border"),""!==this.backgroundColor&&this.backgroundColor.includes("tn-bg")))){var n=this.backgroundColor.slice(this.backgroundColor.lastIndexOf("-")+1);t+=" tn-border-".concat(n)}return t},buttonStyle:function(){var t={};switch(this.size){case"sm":t.padding="0 20rpx",t.fontSize="22rpx",t.height=this.height||"48rpx";break;case"lg":t.padding="0 40rpx",t.fontSize="32rpx",t.height=this.height||"80rpx";break;default:t.padding="0 30rpx",t.fontSize="28rpx",t.height=this.height||"64rpx"}return this.padding&&(t.padding=this.padding),this.margin&&(t.margin=this.margin),this.fontSize&&(t.fontSize=this.fontSize+this.fontUnit),t.width="icon"===this.shape?t.height:this.width,t.padding="icon"===this.shape?"0":t.padding,this.fontColorStyle&&(t.color=this.fontColorStyle),this.backgroundColorClass||(this.plain?t.borderColor=this.backgroundColorStyle||"#080808":t.backgroundColor=this.backgroundColorStyle||"#FFFFFF"),this.shadow&&!this.backgroundColorClass&&(-1!=this.backgroundColorStyle.indexOf("#")?t.boxShadow="6rpx 6rpx 8rpx ".concat(this.backgroundColorStyle||"#000000","10"):-1==this.backgroundColorStyle.indexOf("rgb")&&-1==this.backgroundColorStyle.indexOf("rgba")&&this.backgroundColorStyle||(t.boxShadow="6rpx 6rpx 8rpx ".concat(this.backgroundColorStyle||"rgba(0, 0, 0, 0.1)"))),t}},data:function(){return{}},watch:{blockTime:{handler:function(t,e){this.initScene()}}},mounted:function(){this.initScene()},methods:{initScene:function(){this.debounceClick=(0,o.debounceFun)((function(){this.emitClick()}),this.blockTime),this.throttleClick=(0,o.throttleFun)((function(){this.emitClick()}),this.blockTime)},debounceClick:(0,o.debounceFun)((function(){this.emitClick()}),200),throttleClick:(0,o.throttleFun)((function(){this.emitClick()}),200),emitClick:function(){this.$emit("click",{index:Number(this.index)}),this.$emit("tap",{index:Number(this.index)})},handleClick:function(){this.disabled||(this.blockRepeatClick?this.throttleClick():"none"===this.scene?this.emitClick():"debounce"==this.scene?this.debounceClick():this.throttleClick())},handleGetUserInfo:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.detail,n=void 0===e?{}:e;this.$emit("getuserinfo",n)},handleContact:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.detail,n=void 0===e?{}:e;this.$emit("contact",n)},handleGetPhoneNumber:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.detail,n=void 0===e?{}:e;this.$emit("getphonenumber",n)},handleError:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.detail,n=void 0===e?{}:e;this.$emit("error",n)}}};e.default=r},baa5:function(t,e,n){var i=n("23e7"),a=n("e58c");i({target:"Array",proto:!0,forced:a!==[].lastIndexOf},{lastIndexOf:a})},bb16:function(t,e,n){"use strict";n.r(e);var i=n("cad4"),a=n("0fbf");for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("3012");var r=n("f0c5"),s=n("cb2b5"),l=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"533f385c",null,!1,i["a"],void 0);"function"===typeof s["a"]&&Object(s["a"])(l),e["default"]=l.exports},bfd3:function(t,e,n){"use strict";n.r(e);var i=n("0263"),a=n("e905");for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("3a66");var r=n("f0c5"),s=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"d06f989a",null,!1,i["a"],void 0);e["default"]=s.exports},ca2e:function(t,e,n){var i=n("5bb9");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("107297f4",i,!0,{sourceMap:!1,shadowMode:!1})},cad4:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{wxsProps:{"change:basedata":"baseData","change:list":"listData"},staticClass:"tn-drag-class tn-drag",style:{height:t.wrapHeight+"rpx"},attrs:{list:t.listData,basedata:t.baseData,"change:list":t.wxs.listObserver,"change:basedata":t.wxs.baseDataObserver}},t._l(t.listData,(function(e,i){return n("v-uni-view",{key:e.id,staticClass:"tn-drag__item",style:{width:100/t.columns+"%",height:t.itemHeight+"rpx"},attrs:{"data-index":i,"data-basedata":t.baseData,"data-edit":t.edit},on:{longpress:function(e){e=t.$handleWxsEvent(e),t.wxs.longPress(e,t.$getComponentDescriptor())},touchstart:function(e){e=t.$handleWxsEvent(e),t.wxs.touchStart(e,t.$getComponentDescriptor())},touchmove:function(e){e=t.$handleWxsEvent(e),t.wxs.touchMove(e,t.$getComponentDescriptor())},touchend:function(e){e=t.$handleWxsEvent(e),t.wxs.touchEnd(e,t.$getComponentDescriptor())}}},[t._t("default",null,{entity:e.data,fixed:e.fixed,index:i,height:t.itemHeight,isEdit:t.edit})],2)})),1)},a=[]},cb2b5:function(t,e,n){"use strict";e["a"]=function(t){(t.options.wxs||(t.options.wxs={}))["wxs"]=function(t){var e=!1;function n(t){return"true"===t||!0===t}var i=function(t,e,n){if(n){var i=[],a=[];switch(t.forEach((function(t){i[t.sortKey]=t})),i.forEach((function(t){a.push(t.data)})),e){case"change":n.callMethod("change",{data:a});break;case"sortEnd":n.callMethod("sortEnd",{data:a});break}}};return t.exports={longPress:function(t,i){var a=t.instance,o=a.getDataset(),r=i.getState();if(e=n(o.edit),e){r.basedata&&"undefined"!==r.basedata||(r.basedata=JSON.parse(o.basedata));var s=r.basedata,l=t.changedTouches[0];if(l){r.current=+o.index;var u=r.list[r.current];u&&u.fixed||r.dragging||(i.callMethod("drag",{dragging:!0}),r.translateX=1===s.columns?0:l.pageX-(s.itemWidth/2+s.left),r.translateY=l.pageY-(s.itemHeight/2+s.top),r.touchId=l.identifier,a.setStyle({transform:"translate3d("+r.translateX+"px,"+r.translateY+"px, 0)"}),r.itemsInstance.forEach((function(t,e){t.removeClass("tn-drag__transition").removeClass("tn-drag__current"),t.addClass(e===r.current?"tn-drag__current":"tn-drag__transition")})),i.callMethod("vibrate"),r.dragging=!0)}}},touchStart:function(t,i){var a=t.instance,o=a.getDataset();e=n(o.edit)},touchMove:function(t,n){var a=t.instance,o=(a.getDataset(),n.getState()),r=o.basedata;if(o.dragging&&e){var s=t.changedTouches[0];if(s&&o.touchId===s.identifier){var l=1===r.columns?0:s.pageX-(r.itemWidth/2+r.left),u=s.pageY-(r.itemHeight/2+r.top);s.clientY>r.windowHeight-r.itemHeight-r.realBottomSize?n.callMethod("pageScroll",{scrollTop:s.pageY+r.itemHeight-(r.windowHeight-r.realBottomSize)}):s.clientY<r.itemHeight+r.realTopSize&&n.callMethod("pageScroll",{scrollTop:s.pageY-r.itemHeight-r.realTopSize}),a.setStyle({transform:"translate3d("+l+"px,"+u+"px, 0)"});var c=o.list[o.current].sortKey,d=Math.round(l/r.itemWidth),f=Math.round(u/r.itemHeight),h=d+r.columns*f,p=o.list[h];if((!p||!p.fixed)&&!function(t,e,n,i,a,o){return t<0||t>=e||n<0||n>=i||a<0||a>=o}(d,r.columns,f,r.rows,h,o.list.length)&&c!==h&&c!==o.preStartKey){o.preStartKey=c;var g=function(t,e,n){var i=n.basedata,a=function(t,e){if(n.list[t].fixed){e?--t:++t;return a(t,e)}return t},o=-1;return n.list.forEach((function(t){t.sortKey===e&&(o=t.realKey)})),n.list.map((function(n){if(n.fixed)return n;var r=n.sortKey,s=n.realKey;return t<e?r>t&&r<=e?(--s,r=a(--r,!0)):r===t&&(s=o,r=e):t>e&&(r>=e&&r<t?(++s,r=a(++r,!1)):r===t&&(s=o,r=e)),n.sortKey!=r&&(n.translateX=r%i.columns*100+"%",n.translateY=100*Math.floor(r/i.columns)+"%",n.sortKey=r,n.realKey=s),n}))}(c,h,o);o.itemsInstance.forEach((function(t,e){var n=g[e];e!==o.current&&t.setStyle({transform:"translate3d("+n.translateX+","+n.translateY+", 0)"})})),n.callMethod("listDataChange",{data:g}),i(g,"change",n)}}}},touchEnd:function(t,n){var a=t.instance,o=(a.getDataset(),n.getState());o.basedata;o.dragging&&e&&(i(o.list,"sortEnd",n),a.addClass("tn-drag__transition"),a.setStyle({transform:"translate3d("+o.list[o.current].translateX+","+o.list[o.current].translateY+", 0)"}),o.itemsInstance.forEach((function(t,e){t.removeClass("tn-drag__transition")})),o.preStartKey=-1,o.dragging=!1,n.callMethod("drag",{dragging:!1}),o.current=-1,o.translateX=0,o.translateY=0)},baseDataObserver:function(t,e,n,i){var a=n.getState();a.basedata=t},listObserver:function(t,e,n,i){var a=n.getState();a.itemsInstance=n.selectAllComponents(".tn-drag__item"),a.list=t||[],a.list.forEach((function(t,e){var n=a.itemsInstance[e];t&&n&&(n.setStyle({transform:"translate3d("+t.translateX+","+t.translateY+", 0)"}),t.fixed&&n.addClass("tn-drag__fixed"))}))}},t.exports}({exports:{}})}},cb68:function(t,e,n){"use strict";n("7a82");var i=n("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("5530"));n("a9e3"),n("d81d"),n("ac1f");var o={name:"tn-drag",props:{list:{type:Array,default:function(){return[]}},edit:{type:Boolean,default:!0},columns:{type:Number,default:3},itemHeight:{type:Number,default:0},scrollTop:{type:Number,default:0}},computed:{wrapHeight:function(){return this.rows*this.itemHeight}},data:function(){return{baseData:{},dragData:[],rows:0,listData:[],dragging:!1}},watch:{list:function(t){var e=this;this.listData=[],this.$nextTick((function(){e.init()}))},columns:function(t){var e=this;this.listData=[],this.$nextTick((function(){e.init()}))}},mounted:function(){var t=this;this.$nextTick((function(){t.init()}))},methods:{init:function(){var t=this;this.dragging=!0;var e=0,n=(this.list||[]).map((function(n,i){var o=function(e){var n=(0,a.default)({},e),i=(null===n||void 0===n?void 0:n.fixed)||!1;return delete n["fixed"],{id:t.unique(),fixed:i,data:(0,a.default)({},n)}}(n);return o.realKey=e++,o.sortKey=i,o.translateX="".concat(o.sortKey%t.columns*100,"%"),o.translateY="".concat(100*Math.floor(o.sortKey/t.columns),"%"),o}));this.rows=Math.ceil(n.length/this.columns),this.listData=n,this.dragData=n,0!==n.length&&this.$nextTick((function(){t.initRect()}))},initRect:function(){var t=this,e=uni.getSystemInfoSync(),n=(e.windowWidth,e.windowHeight),i={};i.windowHeight=n,i.realTopSize=0,i.realBottomSize=0,i.columns=this.columns,i.rows=this.rows;var a=uni.createSelectorQuery().in(this);a.select(".tn-drag").boundingClientRect(),a.select(".tn-drag__item").boundingClientRect(),a.exec((function(e){e?(i.itemWidth=e[1].width,i.itemHeight=e[1].height,i.left=e[0].left,i.top=e[0].top+t.scrollTop,t.dragging=!1,t.baseData=i):setTimeout((function(){t.initRect()}),10)}))},vibrate:function(){uni.vibrateShort()},pageScroll:function(t){uni.pageScrollTo({scrollTop:t.scrollTop,duration:0})},drag:function(t){this.dragging=t.dragging},listDataChange:function(t){this.dragData=t.data},itemClick:function(t){var e=this.dragData[t];this.$emit("click",{key:e.realKey,data:e.data})},sortEnd:function(t){this.$emit("end",{data:t.data})},change:function(t){this.$emit("change",{data:t.data})},unique:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,e="",n=0;n<t;n++)e+=Math.floor(10*Math.random());return"tn_"+(new Date).getTime()+e}}};e.default=o},cbfd:function(t,e,n){"use strict";n.r(e);var i=n("59aa"),a=n("ee7a");for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("419d");var r=n("f0c5"),s=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"dcf6f4e6",null,!1,i["a"],void 0);e["default"]=s.exports},e879:function(t,e,n){"use strict";n.r(e);var i=n("a345"),a=n.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},e905:function(t,e,n){"use strict";n.r(e);var i=n("28f8"),a=n.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},eca3:function(t,e,n){"use strict";n.r(e);var i=n("2e5e"),a=n("e879");for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("3fdb");var r=n("f0c5"),s=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"d2dc7f56",null,!1,i["a"],void 0);e["default"]=s.exports},ee7a:function(t,e,n){"use strict";n.r(e);var i=n("5126"),a=n.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a}}]);