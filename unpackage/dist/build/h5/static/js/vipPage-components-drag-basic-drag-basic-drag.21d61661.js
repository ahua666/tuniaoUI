(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["vipPage-components-drag-basic-drag-basic-drag"],{"0473":function(t,n,e){"use strict";n["a"]=function(t){(t.options.wxs||(t.options.wxs={}))["wxs"]=function(t){var n=!1;function e(t){return"true"===t||!0===t}var a=function(t,n,e){if(e){var a=[],i=[];switch(t.forEach((function(t){a[t.sortKey]=t})),a.forEach((function(t){i.push(t.data)})),n){case"change":e.callMethod("change",{data:i});break;case"sortEnd":e.callMethod("sortEnd",{data:i});break}}};return t.exports={longPress:function(t,a){var i=t.instance,r=i.getDataset(),o=a.getState();if(n=e(r.edit),n){o.basedata&&"undefined"!==o.basedata||(o.basedata=JSON.parse(r.basedata));var s=o.basedata,l=t.changedTouches[0];if(l){o.current=+r.index;var u=o.list[o.current];u&&u.fixed||o.dragging||(a.callMethod("drag",{dragging:!0}),o.translateX=1===s.columns?0:l.pageX-(s.itemWidth/2+s.left),o.translateY=l.pageY-(s.itemHeight/2+s.top),o.touchId=l.identifier,i.setStyle({transform:"translate3d("+o.translateX+"px,"+o.translateY+"px, 0)"}),o.itemsInstance.forEach((function(t,n){t.removeClass("tn-drag__transition").removeClass("tn-drag__current"),t.addClass(n===o.current?"tn-drag__current":"tn-drag__transition")})),a.callMethod("vibrate"),o.dragging=!0)}}},touchStart:function(t,a){var i=t.instance,r=i.getDataset();n=e(r.edit)},touchMove:function(t,e){var i=t.instance,r=(i.getDataset(),e.getState()),o=r.basedata;if(r.dragging&&n){var s=t.changedTouches[0];if(s&&r.touchId===s.identifier){var l=1===o.columns?0:s.pageX-(o.itemWidth/2+o.left),u=s.pageY-(o.itemHeight/2+o.top);s.clientY>o.windowHeight-o.itemHeight-o.realBottomSize?e.callMethod("pageScroll",{scrollTop:s.pageY+o.itemHeight-(o.windowHeight-o.realBottomSize)}):s.clientY<o.itemHeight+o.realTopSize&&e.callMethod("pageScroll",{scrollTop:s.pageY-o.itemHeight-o.realTopSize}),i.setStyle({transform:"translate3d("+l+"px,"+u+"px, 0)"});var c=r.list[r.current].sortKey,d=Math.round(l/o.itemWidth),f=Math.round(u/o.itemHeight),h=d+o.columns*f,p=r.list[h];if((!p||!p.fixed)&&!function(t,n,e,a,i,r){return t<0||t>=n||e<0||e>=a||i<0||i>=r}(d,o.columns,f,o.rows,h,r.list.length)&&c!==h&&c!==r.preStartKey){r.preStartKey=c;var g=function(t,n,e){var a=e.basedata,i=function(t,n){if(e.list[t].fixed){n?--t:++t;return i(t,n)}return t},r=-1;return e.list.forEach((function(t){t.sortKey===n&&(r=t.realKey)})),e.list.map((function(e){if(e.fixed)return e;var o=e.sortKey,s=e.realKey;return t<n?o>t&&o<=n?(--s,o=i(--o,!0)):o===t&&(s=r,o=n):t>n&&(o>=n&&o<t?(++s,o=i(++o,!1)):o===t&&(s=r,o=n)),e.sortKey!=o&&(e.translateX=o%a.columns*100+"%",e.translateY=100*Math.floor(o/a.columns)+"%",e.sortKey=o,e.realKey=s),e}))}(c,h,r);r.itemsInstance.forEach((function(t,n){var e=g[n];n!==r.current&&t.setStyle({transform:"translate3d("+e.translateX+","+e.translateY+", 0)"})})),e.callMethod("listDataChange",{data:g}),a(g,"change",e)}}}},touchEnd:function(t,e){var i=t.instance,r=(i.getDataset(),e.getState());r.basedata;r.dragging&&n&&(a(r.list,"sortEnd",e),i.addClass("tn-drag__transition"),i.setStyle({transform:"translate3d("+r.list[r.current].translateX+","+r.list[r.current].translateY+", 0)"}),r.itemsInstance.forEach((function(t,n){t.removeClass("tn-drag__transition")})),r.preStartKey=-1,r.dragging=!1,e.callMethod("drag",{dragging:!1}),r.current=-1,r.translateX=0,r.translateY=0)},baseDataObserver:function(t,n,e,a){var i=e.getState();i.basedata=t},listObserver:function(t,n,e,a){var i=e.getState();i.itemsInstance=e.selectAllComponents(".tn-drag__item"),i.list=t||[],i.list.forEach((function(t,n){var e=i.itemsInstance[n];t&&e&&(e.setStyle({transform:"translate3d("+t.translateX+","+t.translateY+", 0)"}),t.fixed&&e.addClass("tn-drag__fixed"))}))}},t.exports}({exports:{}})}},"059c":function(t,n,e){"use strict";e.r(n);var a=e("afc1"),i=e("1593");for(var r in i)["default"].indexOf(r)<0&&function(t){e.d(n,t,(function(){return i[t]}))}(r);e("2923");var o=e("f0c5"),s=Object(o["a"])(i["default"],a["b"],a["c"],!1,null,"aa6a9b8a",null,!1,a["a"],void 0);n["default"]=s.exports},"0b16":function(t,n,e){var a=e("24fb");n=a(!1),n.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为Tuniao UI的集成样式文件，为scss预处理器，其中包含了一些"tn-"开头的自定义变量\r\n * 使用的时候，请将下面的一行复制到您的uniapp项目根目录的uni.scss中即可\r\n * Tuniao UI自定义的css类名和scss变量，均以"tn-"开头，不会造成冲突，请放心使用 \r\n */.tn-btn[data-v-778c77a3]{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;line-height:1;text-align:center;text-decoration:none;overflow:visible;-webkit-transform:translate(%?0?%,%?0?%);transform:translate(%?0?%,%?0?%);border-radius:%?12?%;margin:0}.tn-btn--plain[data-v-778c77a3]{background-color:initial!important;background-image:none}.tn-btn--plain.tn-round[data-v-778c77a3]{border-radius:%?1000?%!important}',""]),t.exports=n},"0c89":function(t,n,e){"use strict";e("7a82");var a=e("4ea4").default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,e("a9e3"),e("ac1f"),e("00b4"),e("c975"),e("d401"),e("d3b7"),e("25f0");var i=a(e("c846")),r={mixins:[i.default],name:"tn-number-box",props:{value:{type:Number,default:1},index:{type:[Number,String],default:""},min:{type:Number,default:0},max:{type:Number,default:99999},step:{type:Number,default:1},disabled:{type:Boolean,default:!1},disabledInput:{type:Boolean,default:!1},inputWidth:{type:Number,default:88},inputHeight:{type:Number,default:50},cursorSpacing:{type:Number,default:100},longPress:{type:Boolean,default:!0},longPressTime:{type:Number,default:250},positiveInteger:{type:Boolean,default:!0}},computed:{getCursorSpacing:function(){return Number(uni.upx2px(this.cursorSpacing))}},data:function(){return{inputValue:1,longPressTimer:null,changeFromInner:!1,innerChangeTimer:null}},watch:{value:function(t){var n=this;this.changeFromInner||(this.updateInputValue(),this.$nextTick((function(){n.changeFromInner=!1})))},inputValue:function(t,n){var e=this;if(""!==t){var a=0,i=this.$tn.test.number(t);a=i&&t>=this.min&&t<=this.max?t:n,this.positiveInteger&&(t<0||-1!==String(t).indexOf("."))&&(a=Math.floor(t),this.$nextTick((function(){e.inputValue=a}))),this.handleChange(a,"change")}},min:function(){this.updateInputValue()},max:function(){this.updateInputValue()}},created:function(){this.updateInputValue()},methods:{touchStart:function(t){var n=this;this[t](),this.longPress&&(this.longPressTimer&&(clearInterval(this.longPressTimer),this.longPressTimer=null),this.longPressTimer=setInterval((function(){n[t]()}),this.longPressTime))},clearTimer:function(){var t=this;this.$nextTick((function(){t.longPressTimer&&(clearInterval(t.longPressTimer),t.longPressTimer=null)}))},minus:function(){this.computeValue("minus")},plus:function(){this.computeValue("plus")},calcPlus:function(t,n){var e,a=0,i=0;try{a=t.toString().split(".")[1].length}catch(o){a=0}try{i=n.toString().split(".")[1].length}catch(o){i=0}e=Math.pow(10,Math.max(a,i));var r=a>=i?a:i;return((t*e+n*e)/e).toFixed(r)},calcMinus:function(t,n){var e,a=0,i=0;try{a=t.toString().split(".")[1].length}catch(o){a=0}try{i=n.toString().split(".")[1].length}catch(o){i=0}e=Math.pow(10,Math.max(a,i));var r=a>=i?a:i;return((t*e-n*e)/e).toFixed(r)},computeValue:function(t){if(uni.hideKeyboard(),!this.disabled){var n=0;"minus"===t?n=this.calcMinus(this.inputValue,this.step):"plus"===t&&(n=this.calcPlus(this.inputValue,this.step)),n<this.min||n>this.max||(this.inputValue=n,this.handleChange(n,t))}},blurInput:function(t){var n=this,e=0,a=t.detail.value;e=/(^\d+$)/.test(a)&&0!=a[0]?+a:this.min,e>this.max?e=this.max:e<this.min&&(e=this.min),this.$nextTick((function(){n.inputValue=e})),this.handleChange(e,"blur")},focusInput:function(){this.$emit("focus")},updateInputValue:function(){var t=this.value;t<=this.min?t=this.min:t>=this.max&&(t=this.max),this.inputValue=Number(t)},handleChange:function(t,n){var e=this;this.disabled||(this.innerChangeTimer&&(clearTimeout(this.innerChangeTimer),this.innerChangeTimer=null),this.changeFromInner=!0,this.innerChangeTimer=setTimeout((function(){e.changeFromInner=!1}),150),this.$emit("input",Number(t)),this.$emit(n,{value:Number(t),index:this.index}))}}};n.default=r},"0e19":function(t,n,e){var a=e("24fb");n=a(!1),n.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为Tuniao UI的集成样式文件，为scss预处理器，其中包含了一些"tn-"开头的自定义变量\r\n * 使用的时候，请将下面的一行复制到您的uniapp项目根目录的uni.scss中即可\r\n * Tuniao UI自定义的css类名和scss变量，均以"tn-"开头，不会造成冲突，请放心使用 \r\n */.tn-number-box[data-v-d06f989a]{display:inline-flex;align-items:center}.tn-number-box__btn__plus[data-v-d06f989a], .tn-number-box__btn__minus[data-v-d06f989a]{width:%?60?%;display:flex;flex-direction:row;justify-content:center;align-items:center;background-color:#e6e6e6}.tn-number-box__btn__plus[data-v-d06f989a]{border-radius:0 %?8?% %?8?% 0}.tn-number-box__btn__minus[data-v-d06f989a]{border-radius:%?8?% 0 0 %?8?%}.tn-number-box__btn--disabled[data-v-d06f989a]{color:#aaa!important;background:#e6e6e6!important}.tn-number-box__input[data-v-d06f989a]{display:flex;flex-direction:row;align-items:center;justify-content:center;position:relative;text-align:center;box-sizing:border-box;padding:0 %?4?%;margin:0 %?6?%;background-color:#e6e6e6}.tn-number-box__input--disabled[data-v-d06f989a]{color:#aaa!important;background:#e6e6e6!important}',""]),t.exports=n},1586:function(t,n,e){var a=e("985d");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=e("4f06").default;i("030ed405",a,!0,{sourceMap:!1,shadowMode:!1})},1593:function(t,n,e){"use strict";e.r(n);var a=e("d6f1"),i=e.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){e.d(n,t,(function(){return a[t]}))}(r);n["default"]=i.a},"23ac":function(t,n,e){var a=e("0e19");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=e("4f06").default;i("511c87bd",a,!0,{sourceMap:!1,shadowMode:!1})},2923:function(t,n,e){"use strict";var a=e("1586"),i=e.n(a);i.a},"317d":function(t,n,e){"use strict";e.r(n);var a=e("9e61"),i=e.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){e.d(n,t,(function(){return a[t]}))}(r);n["default"]=i.a},"375b":function(t,n,e){var a=e("24fb");n=a(!1),n.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为Tuniao UI的集成样式文件，为scss预处理器，其中包含了一些"tn-"开头的自定义变量\r\n * 使用的时候，请将下面的一行复制到您的uniapp项目根目录的uni.scss中即可\r\n * Tuniao UI自定义的css类名和scss变量，均以"tn-"开头，不会造成冲突，请放心使用 \r\n */.tn-drag[data-v-533f385c]{position:relative}.tn-drag__item[data-v-533f385c]{position:absolute;z-index:2;top:0;left:0}.tn-drag__transition[data-v-533f385c]{transition:-webkit-transform .25s!important;transition:transform .25s!important;transition:transform .25s,-webkit-transform .25s!important}.tn-drag__current[data-v-533f385c]{z-index:10!important}.tn-drag__fixed[data-v-533f385c]{z-index:1!important}',""]),t.exports=n},"4fc9":function(t,n,e){"use strict";e("7a82");var a=e("4ea4").default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,e("a9e3"),e("c975"),e("fb6a"),e("baa5"),e("caad"),e("2532");var i=a(e("c846")),r={mixins:[i.default],name:"tn-button",behaviors:["wx://form-field-button"],props:{index:{type:[Number,String],default:0},shape:{type:String,default:"default"},shadow:{type:Boolean,default:!1},width:{type:String,default:"auto"},height:{type:String,default:""},size:{type:String,default:""},fontBold:{type:Boolean,default:!1},padding:{type:String,default:"0 30rpx"},margin:{type:String,default:""},plain:{type:Boolean,default:!1},border:{type:Boolean,default:!0},borderBold:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},formType:{type:String,default:""},openType:{type:String,default:""},blockRepeatClick:{type:Boolean,default:!1}},computed:{buttonClass:function(){var t="";switch(this.shape){case"icon":case"round":t+=" tn-round";break}if(this.shadow)if(""!==this.backgroundColorClass&&-1!=this.backgroundColorClass.indexOf("tn-bg")){var n=this.backgroundColor.slice(this.backgroundColor.lastIndexOf("-")+1);t+=" tn-shadow-".concat(n)}else t+=" tn-shadow-blur";if(this.fontBold&&(t+=" tn-text-bold"),this.plain&&(t+=" tn-btn--plain",this.border&&(t+=" tn-border-solid",this.borderBold&&(t+=" tn-bold-border"),""!==this.backgroundColor&&this.backgroundColor.includes("tn-bg")))){var e=this.backgroundColor.slice(this.backgroundColor.lastIndexOf("-")+1);t+=" tn-border-".concat(e)}return t},buttonStyle:function(){var t={};switch(this.size){case"sm":t.padding="0 20rpx",t.fontSize="22rpx",t.height=this.height||"48rpx";break;case"lg":t.padding="0 40rpx",t.fontSize="32rpx",t.height=this.height||"80rpx";break;default:t.padding="0 30rpx",t.fontSize="28rpx",t.height=this.height||"64rpx"}return this.padding&&(t.padding=this.padding),this.margin&&(t.margin=this.margin),this.fontSize&&(t.fontSize=this.fontSize+this.fontUnit),t.width="icon"===this.shape?t.height:this.width,t.padding="icon"===this.shape?"0":t.padding,this.fontColorStyle&&(t.color=this.fontColorStyle),this.backgroundColorClass||(this.plain?t.borderColor=this.backgroundColorStyle||"#080808":t.backgroundColor=this.backgroundColorStyle||"#FFFFFF"),this.shadow&&!this.backgroundColorClass&&(-1!=this.backgroundColorStyle.indexOf("#")?t.boxShadow="6rpx 6rpx 8rpx ".concat(this.backgroundColorStyle||"#000000","10"):-1==this.backgroundColorStyle.indexOf("rgb")&&-1==this.backgroundColorStyle.indexOf("rgba")&&this.backgroundColorStyle||(t.boxShadow="6rpx 6rpx 8rpx ".concat(this.backgroundColorStyle||"rgba(0, 0, 0, 0.1)"))),t}},data:function(){return{clickTime:0,clickIntervalTime:200}},methods:{handleClick:function(){var t=this;if(!this.disabled){if(this.blockRepeatClick){var n=(new Date).getTime();if(n-this.clickTime<=this.clickIntervalTime)return;this.clickTime=n,setTimeout((function(){t.clickTime=0}),this.clickIntervalTime)}this.$emit("click",{index:Number(this.index)}),this.$emit("tap",{index:Number(this.index)})}},handleGetUserInfo:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.detail,e=void 0===n?{}:n;this.$emit("getuserinfo",e)},handleContact:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.detail,e=void 0===n?{}:n;this.$emit("contact",e)},handleGetPhoneNumber:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.detail,e=void 0===n?{}:n;this.$emit("getphonenumber",e)},handleError:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.detail,e=void 0===n?{}:n;this.$emit("error",e)}}};n.default=r},5541:function(t,n,e){var a=e("375b");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=e("4f06").default;i("f0de093a",a,!0,{sourceMap:!1,shadowMode:!1})},"57a6":function(t,n,e){"use strict";e.r(n);var a=e("0c89"),i=e.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){e.d(n,t,(function(){return a[t]}))}(r);n["default"]=i.a},"6bc7":function(t,n,e){"use strict";var a=e("23ac"),i=e.n(a);i.a},"6ce4":function(t,n,e){"use strict";e.r(n);var a=e("82c3"),i=e("317d");for(var r in i)["default"].indexOf(r)<0&&function(t){e.d(n,t,(function(){return i[t]}))}(r);e("ea6e");var o=e("f0c5"),s=e("0473"),l=Object(o["a"])(i["default"],a["b"],a["c"],!1,null,"533f385c",null,!1,a["a"],void 0);"function"===typeof s["a"]&&Object(s["a"])(l),n["default"]=l.exports},"7f9f":function(t,n,e){"use strict";e.r(n);var a=e("4fc9"),i=e.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){e.d(n,t,(function(){return a[t]}))}(r);n["default"]=i.a},"82bf":function(t,n,e){var a=e("0b16");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=e("4f06").default;i("07c9ec84",a,!0,{sourceMap:!1,shadowMode:!1})},"82c3":function(t,n,e){"use strict";e.d(n,"b",(function(){return a})),e.d(n,"c",(function(){return i})),e.d(n,"a",(function(){}));var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-uni-view",{wxsProps:{"change:basedata":"baseData","change:list":"listData"},staticClass:"tn-drag-class tn-drag",style:{height:t.wrapHeight+"rpx"},attrs:{list:t.listData,basedata:t.baseData,"change:list":t.wxs.listObserver,"change:basedata":t.wxs.baseDataObserver}},t._l(t.listData,(function(n,a){return e("v-uni-view",{key:n.id,staticClass:"tn-drag__item",style:{width:100/t.columns+"%",height:t.itemHeight+"rpx"},attrs:{"data-index":a,"data-basedata":t.baseData,"data-edit":t.edit},on:{longpress:function(n){n=t.$handleWxsEvent(n),t.wxs.longPress(n,t.$getComponentDescriptor())},touchstart:function(n){n=t.$handleWxsEvent(n),t.wxs.touchStart(n,t.$getComponentDescriptor())},touchmove:function(n){n=t.$handleWxsEvent(n),t.wxs.touchMove(n,t.$getComponentDescriptor())},touchend:function(n){n=t.$handleWxsEvent(n),t.wxs.touchEnd(n,t.$getComponentDescriptor())}}},[t._t("default",null,{entity:n.data,fixed:n.fixed,index:a,height:t.itemHeight,isEdit:t.edit})],2)})),1)},i=[]},"985d":function(t,n,e){var a=e("24fb");n=a(!1),n.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为Tuniao UI的集成样式文件，为scss预处理器，其中包含了一些"tn-"开头的自定义变量\r\n * 使用的时候，请将下面的一行复制到您的uniapp项目根目录的uni.scss中即可\r\n * Tuniao UI自定义的css类名和scss变量，均以"tn-"开头，不会造成冲突，请放心使用 \r\n */.operation[data-v-aa6a9b8a]{display:flex;flex-direction:column;align-items:flex-start;justify-content:center;padding:0 %?100?%;margin-top:%?100?%}.operation__item[data-v-aa6a9b8a]{width:100%;margin-top:%?20?%}.operation__title[data-v-aa6a9b8a]{font-size:%?36?%}.operation__content[data-v-aa6a9b8a]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;width:100%;height:100%;margin-top:%?10?%}.drag__wrap[data-v-aa6a9b8a]{padding-left:%?30?%;padding-right:%?30?%}.drag__item[data-v-aa6a9b8a]{flex:1;display:flex;align-items:center;justify-content:center;background-color:#fff;padding:%?20?%;box-sizing:border-box;border:%?1?% solid #f6f6f6;position:relative}.drag__item uni-image[data-v-aa6a9b8a]{display:block;flex-shrink:0;width:100%}.drag__item__fixed[data-v-aa6a9b8a]{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;background-color:hsla(0,0%,100%,.5);font-size:%?40?%}',""]),t.exports=n},"9e61":function(t,n,e){"use strict";e("7a82");var a=e("4ea4").default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=a(e("5530"));e("a9e3"),e("d81d"),e("ac1f");var r={name:"tn-drag",props:{list:{type:Array,default:function(){return[]}},edit:{type:Boolean,default:!0},columns:{type:Number,default:3},itemHeight:{type:Number,default:0},scrollTop:{type:Number,default:0}},computed:{wrapHeight:function(){return this.rows*this.itemHeight}},data:function(){return{baseData:{},dragData:[],rows:0,listData:[],dragging:!1}},watch:{list:function(t){var n=this;this.listData=[],this.$nextTick((function(){n.init()}))},columns:function(t){var n=this;this.listData=[],this.$nextTick((function(){n.init()}))}},mounted:function(){var t=this;this.$nextTick((function(){t.init()}))},methods:{init:function(){var t=this;this.dragging=!0;var n=0,e=(this.list||[]).map((function(e,a){var r=function(n){var e=(0,i.default)({},n),a=(null===e||void 0===e?void 0:e.fixed)||!1;return delete e["fixed"],{id:t.unique(),fixed:a,data:(0,i.default)({},e)}}(e);return r.realKey=n++,r.sortKey=a,r.translateX="".concat(r.sortKey%t.columns*100,"%"),r.translateY="".concat(100*Math.floor(r.sortKey/t.columns),"%"),r}));this.rows=Math.ceil(e.length/this.columns),this.listData=e,this.dragData=e,0!==e.length&&this.$nextTick((function(){t.initRect()}))},initRect:function(){var t=this,n=uni.getSystemInfoSync(),e=(n.windowWidth,n.windowHeight),a={};a.windowHeight=e,a.realTopSize=0,a.realBottomSize=0,a.columns=this.columns,a.rows=this.rows;var i=uni.createSelectorQuery().in(this);i.select(".tn-drag").boundingClientRect(),i.select(".tn-drag__item").boundingClientRect(),i.exec((function(n){n?(a.itemWidth=n[1].width,a.itemHeight=n[1].height,a.left=n[0].left,a.top=n[0].top+t.scrollTop,t.dragging=!1,t.baseData=a):setTimeout((function(){t.initRect()}),10)}))},vibrate:function(){uni.vibrateShort()},pageScroll:function(t){uni.pageScrollTo({scrollTop:t.scrollTop,duration:0})},drag:function(t){this.dragging=t.dragging},listDataChange:function(t){this.dragData=t.data},itemClick:function(t){var n=this.dragData[t];this.$emit("click",{key:n.realKey,data:n.data})},sortEnd:function(t){this.$emit("end",{data:t.data})},change:function(t){this.$emit("change",{data:t.data})},unique:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,n="",e=0;e<t;e++)n+=Math.floor(10*Math.random());return"tn_"+(new Date).getTime()+n}}};n.default=r},"9f50":function(t,n,e){"use strict";e.r(n);var a=e("d73e"),i=e("57a6");for(var r in i)["default"].indexOf(r)<0&&function(t){e.d(n,t,(function(){return i[t]}))}(r);e("6bc7");var o=e("f0c5"),s=Object(o["a"])(i["default"],a["b"],a["c"],!1,null,"d06f989a",null,!1,a["a"],void 0);n["default"]=s.exports},afc1:function(t,n,e){"use strict";e.d(n,"b",(function(){return i})),e.d(n,"c",(function(){return r})),e.d(n,"a",(function(){return a}));var a={tnNavBar:e("75e2").default,tnNumberBox:e("9f50").default,tnButton:e("ef28").default,tnDrag:e("6ce4").default},i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-uni-view",{staticClass:"vip-component-basic-drag"},[e("tn-nav-bar",{attrs:{fixed:!0}},[t._v("Drag拖拽")]),e("v-uni-view",{style:{paddingTop:t.vuex_custom_bar_height+"px"}},[e("v-uni-view",{staticClass:"operation"},[e("v-uni-view",{staticClass:"operation__item"},[e("v-uni-view",{staticClass:"operation__title"},[t._v("设置columns")]),e("v-uni-view",{staticClass:"operation__content"},[e("v-uni-view",{staticClass:"tn-margin-right"},[t._v("columns:")]),e("tn-number-box",{attrs:{min:3,max:5,disabledInput:!0},model:{value:t.columns,callback:function(n){t.columns=n},expression:"columns"}})],1)],1),e("v-uni-view",{staticClass:"operation__item"},[e("v-uni-view",{staticClass:"operation__title"},[t._v("设置固定项")]),e("v-uni-view",{staticClass:"operation__content"},[e("v-uni-view",{staticClass:"tn-margin-right"},[t._v("随机固定:")]),e("tn-button",{attrs:{backgroundColor:"#01BEFF",fontColor:"#FFFFFF",size:"sm"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.setFixed.apply(void 0,arguments)}}},[t._v("随机固定")])],1)],1)],1),e("v-uni-view",{staticClass:"drag__wrap tn-margin-top"},[e("tn-drag",{attrs:{list:t.list,columns:t.columns,itemHeight:t.itemHeight},on:{change:function(n){arguments[0]=n=t.$handleEvent(n),t.onChange.apply(void 0,arguments)},end:function(n){arguments[0]=n=t.$handleEvent(n),t.onEnd.apply(void 0,arguments)}},scopedSlots:t._u([{key:"default",fn:function(n){var a=n.entity,i=n.height,r=n.fixed;return[e("v-uni-view",{staticClass:"drag__item",style:{height:i+"rpx"}},[e("v-uni-image",{style:{height:i+"rpx"},attrs:{src:a.url,mode:"widthFix"}}),r?e("v-uni-view",{staticClass:"drag__item__fixed"},[t._v("Fixed")]):t._e()],1)]}}])})],1)],1)],1)},r=[]},baa5:function(t,n,e){var a=e("23e7"),i=e("e58c");a({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},ce46:function(t,n,e){"use strict";e.d(n,"b",(function(){return a})),e.d(n,"c",(function(){return i})),e.d(n,"a",(function(){}));var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-uni-button",{staticClass:"tn-btn-class tn-btn",class:[t.buttonClass,t.backgroundColorClass,t.fontColorClass],style:[t.buttonStyle],attrs:{"hover-class":"tn-hover",loading:t.loading,disabled:t.disabled,"form-type":t.formType,"open-type":t.openType},on:{getuserinfo:function(n){arguments[0]=n=t.$handleEvent(n),t.handleGetUserInfo.apply(void 0,arguments)},getphonenumber:function(n){arguments[0]=n=t.$handleEvent(n),t.handleGetPhoneNumber.apply(void 0,arguments)},contact:function(n){arguments[0]=n=t.$handleEvent(n),t.handleContact.apply(void 0,arguments)},error:function(n){arguments[0]=n=t.$handleEvent(n),t.handleError.apply(void 0,arguments)},click:function(n){arguments[0]=n=t.$handleEvent(n),t.handleClick.apply(void 0,arguments)}}},[t._t("default")],2)},i=[]},d6f1:function(t,n,e){"use strict";(function(t){e("7a82"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,e("14d9"),e("d3b7"),e("159b");var a={name:"VipComponentBasicDrag",data:function(){return{list:[],scrollTop:0,columns:3,itemHeight:210,sliderValue:3}},onLoad:function(){for(var t=[],n=0;n<15;n++)t.push({url:n%2==0?"https://tnuiimage.tnkjapp.com/shop/bag1.jpg":"https://tnuiimage.tnkjapp.com/shop/bag2.jpg",fixed:!1});this.list=t},watch:{columns:function(t){uni.pageScrollTo({scrollTop:0}),this.itemHeight=[210,160,120][t-3]}},methods:{onChange:function(t){},onEnd:function(n){t("log",n.data," at vipPage/components/drag/basic-drag/basic-drag.vue:78")},setFixed:function(){var n=Math.floor(14*Math.random());t("log",n," at vipPage/components/drag/basic-drag/basic-drag.vue:83"),this.list.forEach((function(t){t.fixed=!1})),this.list[n].fixed=!0}}};n.default=a}).call(this,e("0de9")["log"])},d73e:function(t,n,e){"use strict";e.d(n,"b",(function(){return a})),e.d(n,"c",(function(){return i})),e.d(n,"a",(function(){}));var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-uni-view",{staticClass:"tn-number-box-class tn-number-box"},[e("v-uni-view",{staticClass:"tn-number-box__btn__minus",class:[t.backgroundColorClass,t.fontColorClass,{"tn-number-box__btn--disabled":t.disabled||t.inputValue<=t.min}],style:{backgroundColor:t.backgroundColorStyle,height:t.$tn.string.getLengthUnitValue(t.inputHeight),color:t.fontColorStyle,fontSize:t.fontSizeStyle},on:{touchstart:function(n){n.stopPropagation(),n.preventDefault(),arguments[0]=n=t.$handleEvent(n),t.touchStart("minus")},touchend:function(n){n.stopPropagation(),n.preventDefault(),arguments[0]=n=t.$handleEvent(n),t.clearTimer.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"tn-icon-reduce"})],1),e("v-uni-input",{staticClass:"tn-number-box__input",class:[t.fontColorClass,{"tn-number-box__input--disabled":t.disabledInput||t.disabled}],style:{width:t.$tn.string.getLengthUnitValue(t.inputWidth),height:t.$tn.string.getLengthUnitValue(t.inputHeight),color:t.fontColorStyle,fontSize:t.fontSizeStyle,backgroundColor:t.backgroundColorStyle},attrs:{disabled:t.disabledInput||t.disabled,"cursor-spacing":t.getCursorSpacing},on:{blur:function(n){arguments[0]=n=t.$handleEvent(n),t.blurInput.apply(void 0,arguments)},focus:function(n){arguments[0]=n=t.$handleEvent(n),t.focusInput.apply(void 0,arguments)}},model:{value:t.inputValue,callback:function(n){t.inputValue=n},expression:"inputValue"}}),e("v-uni-view",{staticClass:"tn-number-box__btn__plus",class:[t.backgroundColorClass,t.fontColorClass,{"tn-number-box__btn--disabled":t.disabled||t.inputValue>=t.max}],style:{backgroundColor:t.backgroundColorStyle,height:t.$tn.string.getLengthUnitValue(t.inputHeight),color:t.fontColorStyle,fontSize:t.fontSizeStyle},on:{touchstart:function(n){n.stopPropagation(),n.preventDefault(),arguments[0]=n=t.$handleEvent(n),t.touchStart("plus")},touchend:function(n){n.stopPropagation(),n.preventDefault(),arguments[0]=n=t.$handleEvent(n),t.clearTimer.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"tn-icon-add"})],1)],1)},i=[]},e510:function(t,n,e){"use strict";var a=e("82bf"),i=e.n(a);i.a},ea6e:function(t,n,e){"use strict";var a=e("5541"),i=e.n(a);i.a},ef28:function(t,n,e){"use strict";e.r(n);var a=e("ce46"),i=e("7f9f");for(var r in i)["default"].indexOf(r)<0&&function(t){e.d(n,t,(function(){return i[t]}))}(r);e("e510");var o=e("f0c5"),s=Object(o["a"])(i["default"],a["b"],a["c"],!1,null,"778c77a3",null,!1,a["a"],void 0);n["default"]=s.exports}}]);